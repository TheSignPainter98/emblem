<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js ayu">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Emblem v0.0.1 Documentation</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="Documentation for the Emblem typesetter">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="theme/mdBook-pagetoc/style.css">
        <link rel="stylesheet" href="theme/css/style.css">
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "ayu";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('ayu')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="introduction.html"><strong aria-hidden="true">1.</strong> Introduction</a></li><li class="chapter-item "><a href="how-emblem-works.html"><strong aria-hidden="true">2.</strong> How Emblem works</a></li><li class="chapter-item "><div><strong aria-hidden="true">3.</strong> How to use Emblem</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">3.1.</strong> Basic syntax</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.2.</strong> Preprocessor directives (‘pragmas’)</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.3.</strong> Syntactic sugars</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.4.</strong> Styling</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">3.4.1.</strong> Using SCSS/SASS to style documents</div></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.5.</strong> Writing extensions</div><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><div><strong aria-hidden="true">3.5.1.</strong> Controlling the typesetting loop</div></li></ol></li><li class="chapter-item "><div><strong aria-hidden="true">3.6.</strong> Writing input drivers</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.7.</strong> Writing output drivers</div></li><li class="chapter-item "><div><strong aria-hidden="true">3.8.</strong> Variables, Assignment and scope</div></li><li class="chapter-item "><a href="expressions.html"><strong aria-hidden="true">3.9.</strong> Expressions and Conditions</a></li></ol></li><li class="chapter-item "><a href="directives.html"><strong aria-hidden="true">4.</strong> Document directives</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/expl/document-structure.html"><strong aria-hidden="true">4.1.</strong> Document structure</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/h1-6.html"><strong aria-hidden="true">4.1.1.</strong> .h1–6 and .h1–6*</a></li><li class="chapter-item "><a href="directives/include.html"><strong aria-hidden="true">4.1.2.</strong> .include, .include* and :include</a></li><li class="chapter-item "><a href="directives/toc.html"><strong aria-hidden="true">4.1.3.</strong> .toc</a></li></ol></li><li class="chapter-item "><a href="directives/expl/references.html"><strong aria-hidden="true">4.2.</strong> References</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/anchor-and-ref.html"><strong aria-hidden="true">4.2.1.</strong> .anchor and .ref</a></li><li class="chapter-item "><a href="directives/bib-and-cite.html"><strong aria-hidden="true">4.2.2.</strong> .bib and .cite</a></li></ol></li><li class="chapter-item "><a href="directives/expl/flow-control.html"><strong aria-hidden="true">4.3.</strong> Flow control</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/call.html"><strong aria-hidden="true">4.3.1.</strong> .call</a></li><li class="chapter-item "><a href="directives/case.html"><strong aria-hidden="true">4.3.2.</strong> .case</a></li><li class="chapter-item "><a href="directives/def.html"><strong aria-hidden="true">4.3.3.</strong> .def</a></li><li class="chapter-item "><a href="directives/defined.html"><strong aria-hidden="true">4.3.4.</strong> .defined</a></li><li class="chapter-item "><a href="directives/exists.html"><strong aria-hidden="true">4.3.5.</strong> .exists</a></li><li class="chapter-item "><a href="directives/for.html"><strong aria-hidden="true">4.3.6.</strong> .for</a></li><li class="chapter-item "><a href="directives/foreach.html"><strong aria-hidden="true">4.3.7.</strong> .foreach</a></li><li class="chapter-item "><a href="directives/get-var.html"><strong aria-hidden="true">4.3.8.</strong> .get-var</a></li><li class="chapter-item "><a href="directives/if.html"><strong aria-hidden="true">4.3.9.</strong> .if</a></li><li class="chapter-item "><a href="directives/set-var.html"><strong aria-hidden="true">4.3.10.</strong> .set-var and its variants</a></li><li class="chapter-item "><a href="directives/undef.html"><strong aria-hidden="true">4.3.11.</strong> .undef</a></li><li class="chapter-item "><a href="directives/while.html"><strong aria-hidden="true">4.3.12.</strong> .while</a></li></ol></li><li class="chapter-item "><a href="directives/expl/logging.html"><strong aria-hidden="true">4.4.</strong> Logging</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/echo.html"><strong aria-hidden="true">4.4.1.</strong> .echo and .echo-on</a></li><li class="chapter-item "><a href="directives/error.html"><strong aria-hidden="true">4.4.2.</strong> .error and .error-on</a></li><li class="chapter-item "><a href="directives/warn.html"><strong aria-hidden="true">4.4.3.</strong> .warn and .warn-on</a></li></ol></li><li class="chapter-item "><a href="directives/expl/logic.html"><strong aria-hidden="true">4.5.</strong> Logic</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/equality.html"><strong aria-hidden="true">4.5.1.</strong> .eq, .numeq and .streq</a></li><li class="chapter-item "><a href="directives/expr.html"><strong aria-hidden="true">4.5.2.</strong> .expr</a></li><li class="chapter-item "><a href="directives/inequalities.html"><strong aria-hidden="true">4.5.3.</strong> .gt, .ge, .lt and .le</a></li><li class="chapter-item "><a href="directives/expl/boolean.html"><strong aria-hidden="true">4.5.4.</strong> Boolean</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/all.html"><strong aria-hidden="true">4.5.4.1.</strong> .all</a></li><li class="chapter-item "><a href="directives/any.html"><strong aria-hidden="true">4.5.4.2.</strong> .any</a></li><li class="chapter-item "><a href="directives/impl.html"><strong aria-hidden="true">4.5.4.3.</strong> .impl</a></li><li class="chapter-item "><a href="directives/not.html"><strong aria-hidden="true">4.5.4.4.</strong> .not</a></li><li class="chapter-item "><a href="directives/xor.html"><strong aria-hidden="true">4.5.4.5.</strong> .xor</a></li></ol></li></ol></li><li class="chapter-item "><a href="directives/expl/arithmetic.html"><strong aria-hidden="true">4.6.</strong> Arithmetic</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/abs.html"><strong aria-hidden="true">4.6.1.</strong> .abs</a></li><li class="chapter-item "><a href="directives/add.html"><strong aria-hidden="true">4.6.2.</strong> .add</a></li><li class="chapter-item "><a href="directives/div.html"><strong aria-hidden="true">4.6.3.</strong> .div</a></li><li class="chapter-item "><a href="directives/idiv.html"><strong aria-hidden="true">4.6.4.</strong> .idiv</a></li><li class="chapter-item "><a href="directives/mod.html"><strong aria-hidden="true">4.6.5.</strong> .mod</a></li><li class="chapter-item "><a href="directives/mul.html"><strong aria-hidden="true">4.6.6.</strong> .mul</a></li><li class="chapter-item "><a href="directives/pow.html"><strong aria-hidden="true">4.6.7.</strong> .pow</a></li><li class="chapter-item "><a href="directives/sign.html"><strong aria-hidden="true">4.6.8.</strong> .sign</a></li><li class="chapter-item "><a href="directives/sub.html"><strong aria-hidden="true">4.6.9.</strong> .sub</a></li></ol></li><li class="chapter-item "><a href="directives/expl/misc.html"><strong aria-hidden="true">4.7.</strong> Miscellaneous</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="directives/curr-version.html"><strong aria-hidden="true">4.7.1.</strong> .curr-version</a></li><li class="chapter-item "><a href="directives/help.html"><strong aria-hidden="true">4.7.2.</strong> .help</a></li><li class="chapter-item "><a href="directives/known-directives.html"><strong aria-hidden="true">4.7.3.</strong> .known-directives</a></li><li class="chapter-item "><a href="directives/vars.html"><strong aria-hidden="true">4.7.4.</strong> .vars</a></li><li class="chapter-item "><a href="directives/readline.html"><strong aria-hidden="true">4.7.5.</strong> .readline</a></li><li class="chapter-item "><a href="directives/system.html"><strong aria-hidden="true">4.7.6.</strong> .$</a></li><li class="chapter-item "><a href="directives/env.html"><strong aria-hidden="true">4.7.7.</strong> .env</a></li></ol></li></ol></li><li class="chapter-item "><a href="api.html"><strong aria-hidden="true">5.</strong> API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/command-line-args.html"><strong aria-hidden="true">5.1.</strong> Command-line</a></li><li class="chapter-item "><a href="extension-api.html"><strong aria-hidden="true">5.2.</strong> Extensions</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/ext/lib/std/ast.moon.html"><strong aria-hidden="true">5.2.1.</strong> std.ast</a></li><li class="chapter-item "><a href="generated/ext/lib/std/base.moon.html"><strong aria-hidden="true">5.2.2.</strong> std.base</a></li><li class="chapter-item "><a href="generated/ext/lib/std/bib.moon.html"><strong aria-hidden="true">5.2.3.</strong> std.bib</a></li><li class="chapter-item "><a href="generated/ext/lib/std/edit.moon.html"><strong aria-hidden="true">5.2.4.</strong> std.edit</a></li><li class="chapter-item "><a href="generated/ext/lib/std/events.moon.html"><strong aria-hidden="true">5.2.5.</strong> std.events</a></li><li class="chapter-item "><a href="generated/ext/lib/std/expr.moon.html"><strong aria-hidden="true">5.2.6.</strong> std.expr</a></li><li class="chapter-item "><a href="generated/ext/lib/std/func.moon.html"><strong aria-hidden="true">5.2.7.</strong> std.func</a></li><li class="chapter-item "><a href="generated/ext/lib/std/hdr.moon.html"><strong aria-hidden="true">5.2.8.</strong> std.hdr</a></li><li class="chapter-item "><a href="modules/moon/std.in.html"><strong aria-hidden="true">5.2.9.</strong> std.in/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/ext/lib/std/in/drivers.moon.html"><strong aria-hidden="true">5.2.9.1.</strong> std.in.drivers</a></li></ol></li><li class="chapter-item "><a href="generated/ext/lib/std/lingo.moon.html"><strong aria-hidden="true">5.2.10.</strong> std.lingo</a></li><li class="chapter-item "><a href="generated/ext/lib/std/log.moon.html"><strong aria-hidden="true">5.2.11.</strong> std.log</a></li><li class="chapter-item "><a href="modules/moon/std.out.html"><strong aria-hidden="true">5.2.12.</strong> std.out/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/ext/lib/std/out/bb.moon.html"><strong aria-hidden="true">5.2.12.1.</strong> std.out.bb</a></li><li class="chapter-item "><a href="generated/ext/lib/std/out/drivers.moon.html"><strong aria-hidden="true">5.2.12.2.</strong> std.out.drivers</a></li><li class="chapter-item "><a href="generated/ext/lib/std/out/html.moon.html"><strong aria-hidden="true">5.2.12.3.</strong> std.out.html</a></li><li class="chapter-item "><a href="generated/ext/lib/std/out/latex.moon.html"><strong aria-hidden="true">5.2.12.4.</strong> std.out.latex</a></li><li class="chapter-item "><a href="generated/ext/lib/std/out/md.moon.html"><strong aria-hidden="true">5.2.12.5.</strong> std.out.md</a></li></ol></li><li class="chapter-item "><a href="generated/ext/lib/std/ref.moon.html"><strong aria-hidden="true">5.2.13.</strong> std.ref</a></li><li class="chapter-item "><a href="generated/ext/lib/std/show.moon.html"><strong aria-hidden="true">5.2.14.</strong> std.show</a></li><li class="chapter-item "><a href="generated/ext/lib/std/store.moon.html"><strong aria-hidden="true">5.2.15.</strong> std.store</a></li><li class="chapter-item "><a href="generated/ext/lib/std/style.moon.html"><strong aria-hidden="true">5.2.16.</strong> std.style</a></li><li class="chapter-item "><a href="generated/ext/lib/std/util.moon.html"><strong aria-hidden="true">5.2.17.</strong> std.util</a></li></ol></li><li class="chapter-item "><a href="internal-api.html"><strong aria-hidden="true">5.3.</strong> Core</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="internal-api-module-interfaces.html"><strong aria-hidden="true">5.3.1.</strong> Module interfaces</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="modules/h/data.html"><strong aria-hidden="true">5.3.1.1.</strong> data/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/data/array.h.html"><strong aria-hidden="true">5.3.1.1.1.</strong> array.h</a></li><li class="chapter-item "><a href="generated/data/cmp.h.html"><strong aria-hidden="true">5.3.1.1.2.</strong> cmp.h</a></li><li class="chapter-item "><a href="generated/data/dest-free.h.html"><strong aria-hidden="true">5.3.1.1.3.</strong> dest-free.h</a></li><li class="chapter-item "><a href="generated/data/destructor.h.html"><strong aria-hidden="true">5.3.1.1.4.</strong> destructor.h</a></li><li class="chapter-item "><a href="generated/data/either.h.html"><strong aria-hidden="true">5.3.1.1.5.</strong> either.h</a></li><li class="chapter-item "><a href="generated/data/fmap.h.html"><strong aria-hidden="true">5.3.1.1.6.</strong> fmap.h</a></li><li class="chapter-item "><a href="generated/data/hash.h.html"><strong aria-hidden="true">5.3.1.1.7.</strong> hash.h</a></li><li class="chapter-item "><a href="generated/data/list-array-conversions.h.html"><strong aria-hidden="true">5.3.1.1.8.</strong> list-array-conversions.h</a></li><li class="chapter-item "><a href="generated/data/list.h.html"><strong aria-hidden="true">5.3.1.1.9.</strong> list.h</a></li><li class="chapter-item "><a href="generated/data/locked.h.html"><strong aria-hidden="true">5.3.1.1.10.</strong> locked.h</a></li><li class="chapter-item "><a href="generated/data/map.h.html"><strong aria-hidden="true">5.3.1.1.11.</strong> map.h</a></li><li class="chapter-item "><a href="generated/data/maybe.h.html"><strong aria-hidden="true">5.3.1.1.12.</strong> maybe.h</a></li><li class="chapter-item "><a href="generated/data/str.h.html"><strong aria-hidden="true">5.3.1.1.13.</strong> str.h</a></li><li class="chapter-item "><a href="generated/data/tuple.h.html"><strong aria-hidden="true">5.3.1.1.14.</strong> tuple.h</a></li><li class="chapter-item "><a href="generated/data/unit.h.html"><strong aria-hidden="true">5.3.1.1.15.</strong> unit.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/doc-struct.html"><strong aria-hidden="true">5.3.1.2.</strong> doc-struct/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/doc-struct/ast.h.html"><strong aria-hidden="true">5.3.1.2.1.</strong> ast.h</a></li><li class="chapter-item "><a href="generated/doc-struct/discern-pars.h.html"><strong aria-hidden="true">5.3.1.2.2.</strong> discern-pars.h</a></li><li class="chapter-item "><a href="generated/doc-struct/location.h.html"><strong aria-hidden="true">5.3.1.2.3.</strong> location.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/drivers.html"><strong aria-hidden="true">5.3.1.3.</strong> drivers/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/drivers/driver-params.h.html"><strong aria-hidden="true">5.3.1.3.1.</strong> driver-params.h</a></li><li class="chapter-item "><a href="generated/drivers/drivers.h.html"><strong aria-hidden="true">5.3.1.3.2.</strong> drivers.h</a></li><li class="chapter-item "><a href="generated/drivers/driver-util.h.html"><strong aria-hidden="true">5.3.1.3.3.</strong> driver-util.h</a></li><li class="chapter-item "><a href="generated/drivers/write-out.h.html"><strong aria-hidden="true">5.3.1.3.4.</strong> write-out.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/ext.html"><strong aria-hidden="true">5.3.1.4.</strong> ext/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/ext/debug.h.html"><strong aria-hidden="true">5.3.1.4.1.</strong> debug.h</a></li><li class="chapter-item "><a href="generated/ext/ext-env.h.html"><strong aria-hidden="true">5.3.1.4.2.</strong> ext-env.h</a></li><li class="chapter-item "><a href="generated/ext/ext-loader.h.html"><strong aria-hidden="true">5.3.1.4.3.</strong> ext-loader.h</a></li><li class="chapter-item "><a href="generated/ext/ext-params.h.html"><strong aria-hidden="true">5.3.1.4.4.</strong> ext-params.h</a></li><li class="chapter-item "><a href="generated/ext/lua-ast-io.h.html"><strong aria-hidden="true">5.3.1.4.5.</strong> lua-ast-io.h</a></li><li class="chapter-item "><a href="generated/ext/lua-constants.h.html"><strong aria-hidden="true">5.3.1.4.6.</strong> lua-constants.h</a></li><li class="chapter-item "><a href="generated/ext/lua-em-parser.h.html"><strong aria-hidden="true">5.3.1.4.7.</strong> lua-em-parser.h</a></li><li class="chapter-item "><a href="generated/ext/lua-events.h.html"><strong aria-hidden="true">5.3.1.4.8.</strong> lua-events.h</a></li><li class="chapter-item "><a href="generated/ext/lua.h.html"><strong aria-hidden="true">5.3.1.4.9.</strong> lua.h</a></li><li class="chapter-item "><a href="generated/ext/lua-lib-load.h.html"><strong aria-hidden="true">5.3.1.4.10.</strong> lua-lib-load.h</a></li><li class="chapter-item "><a href="generated/ext/lua-pointers.h.html"><strong aria-hidden="true">5.3.1.4.11.</strong> lua-pointers.h</a></li><li class="chapter-item "><a href="generated/ext/style.h.html"><strong aria-hidden="true">5.3.1.4.12.</strong> style.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/logs.html"><strong aria-hidden="true">5.3.1.5.</strong> logs/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/logs/ext-log.h.html"><strong aria-hidden="true">5.3.1.5.1.</strong> ext-log.h</a></li><li class="chapter-item "><a href="generated/logs/logs.h.html"><strong aria-hidden="true">5.3.1.5.2.</strong> logs.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/parser.html"><strong aria-hidden="true">5.3.1.6.</strong> parser/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/parser/parser.h.html"><strong aria-hidden="true">5.3.1.6.1.</strong> parser.h</a></li><li class="chapter-item "><a href="generated/parser/sanitise-word.h.html"><strong aria-hidden="true">5.3.1.6.2.</strong> sanitise-word.h</a></li><li class="chapter-item "><a href="generated/parser/sugar.h.html"><strong aria-hidden="true">5.3.1.6.3.</strong> sugar.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/pp.html"><strong aria-hidden="true">5.3.1.7.</strong> pp/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/pp/assert.h.html"><strong aria-hidden="true">5.3.1.7.1.</strong> assert.h</a></li><li class="chapter-item "><a href="generated/pp/lambda.h.html"><strong aria-hidden="true">5.3.1.7.2.</strong> lambda.h</a></li><li class="chapter-item "><a href="generated/pp/not_implemented.h.html"><strong aria-hidden="true">5.3.1.7.3.</strong> not_implemented.h</a></li><li class="chapter-item "><a href="generated/pp/unused.h.html"><strong aria-hidden="true">5.3.1.7.4.</strong> unused.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/style.html"><strong aria-hidden="true">5.3.1.8.</strong> style/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/style/css.h.html"><strong aria-hidden="true">5.3.1.8.1.</strong> css.h</a></li><li class="chapter-item "><a href="generated/style/css-params.h.html"><strong aria-hidden="true">5.3.1.8.2.</strong> css-params.h</a></li><li class="chapter-item "><a href="generated/style/preprocess-css.h.html"><strong aria-hidden="true">5.3.1.8.3.</strong> preprocess-css.h</a></li></ol></li><li class="chapter-item "><a href="modules/h/typesetter.html"><strong aria-hidden="true">5.3.1.9.</strong> typesetter/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/typesetter/typesetter.h.html"><strong aria-hidden="true">5.3.1.9.1.</strong> typesetter.h</a></li></ol></li></ol></li><li class="chapter-item "><a href="internal-api-module-internals.html"><strong aria-hidden="true">5.3.2.</strong> Module internal docs</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="modules/c/data.html"><strong aria-hidden="true">5.3.2.1.</strong> data/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/data/array.c.html"><strong aria-hidden="true">5.3.2.1.1.</strong> array.c</a></li><li class="chapter-item "><a href="generated/data/cmp.c.html"><strong aria-hidden="true">5.3.2.1.2.</strong> cmp.c</a></li><li class="chapter-item "><a href="generated/data/either.c.html"><strong aria-hidden="true">5.3.2.1.3.</strong> either.c</a></li><li class="chapter-item "><a href="generated/data/hash.c.html"><strong aria-hidden="true">5.3.2.1.4.</strong> hash.c</a></li><li class="chapter-item "><a href="generated/data/list-array-conversions.c.html"><strong aria-hidden="true">5.3.2.1.5.</strong> list-array-conversions.c</a></li><li class="chapter-item "><a href="generated/data/list.c.html"><strong aria-hidden="true">5.3.2.1.6.</strong> list.c</a></li><li class="chapter-item "><a href="generated/data/locked.c.html"><strong aria-hidden="true">5.3.2.1.7.</strong> locked.c</a></li><li class="chapter-item "><a href="generated/data/map.c.html"><strong aria-hidden="true">5.3.2.1.8.</strong> map.c</a></li><li class="chapter-item "><a href="generated/data/maybe.c.html"><strong aria-hidden="true">5.3.2.1.9.</strong> maybe.c</a></li><li class="chapter-item "><a href="generated/data/str.c.html"><strong aria-hidden="true">5.3.2.1.10.</strong> str.c</a></li><li class="chapter-item "><a href="generated/data/unit.c.html"><strong aria-hidden="true">5.3.2.1.11.</strong> unit.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/doc-struct.html"><strong aria-hidden="true">5.3.2.2.</strong> doc-struct/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/doc-struct/ast.c.html"><strong aria-hidden="true">5.3.2.2.1.</strong> ast.c</a></li><li class="chapter-item "><a href="generated/doc-struct/discern-pars.c.html"><strong aria-hidden="true">5.3.2.2.2.</strong> discern-pars.c</a></li><li class="chapter-item "><a href="generated/doc-struct/location.c.html"><strong aria-hidden="true">5.3.2.2.3.</strong> location.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/drivers.html"><strong aria-hidden="true">5.3.2.3.</strong> drivers/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/drivers/drivers.c.html"><strong aria-hidden="true">5.3.2.3.1.</strong> drivers.c</a></li><li class="chapter-item "><a href="generated/drivers/write-out.c.html"><strong aria-hidden="true">5.3.2.3.2.</strong> write-out.c</a></li></ol></li><li class="chapter-item "><a href="generated/em.c.html"><strong aria-hidden="true">5.3.2.4.</strong> em.c</a></li><li class="chapter-item "><a href="modules/c/ext.html"><strong aria-hidden="true">5.3.2.5.</strong> ext/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/ext/debug.c.html"><strong aria-hidden="true">5.3.2.5.1.</strong> debug.c</a></li><li class="chapter-item "><a href="generated/ext/ext-env.c.html"><strong aria-hidden="true">5.3.2.5.2.</strong> ext-env.c</a></li><li class="chapter-item "><a href="generated/ext/ext-loader.c.html"><strong aria-hidden="true">5.3.2.5.3.</strong> ext-loader.c</a></li><li class="chapter-item "><a href="generated/ext/ext-params.c.html"><strong aria-hidden="true">5.3.2.5.4.</strong> ext-params.c</a></li><li class="chapter-item "><a href="generated/ext/lua-ast-io.c.html"><strong aria-hidden="true">5.3.2.5.5.</strong> lua-ast-io.c</a></li><li class="chapter-item "><a href="generated/ext/lua.c.html"><strong aria-hidden="true">5.3.2.5.6.</strong> lua.c</a></li><li class="chapter-item "><a href="generated/ext/lua-em-parser.c.html"><strong aria-hidden="true">5.3.2.5.7.</strong> lua-em-parser.c</a></li><li class="chapter-item "><a href="generated/ext/lua-events.c.html"><strong aria-hidden="true">5.3.2.5.8.</strong> lua-events.c</a></li><li class="chapter-item "><a href="generated/ext/lua-pointers.c.html"><strong aria-hidden="true">5.3.2.5.9.</strong> lua-pointers.c</a></li><li class="chapter-item "><a href="generated/ext/style.c.html"><strong aria-hidden="true">5.3.2.5.10.</strong> style.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/logs.html"><strong aria-hidden="true">5.3.2.6.</strong> logs/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/logs/ext-log.c.html"><strong aria-hidden="true">5.3.2.6.1.</strong> ext-log.c</a></li><li class="chapter-item "><a href="generated/logs/logs.c.html"><strong aria-hidden="true">5.3.2.6.2.</strong> logs.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/parser.html"><strong aria-hidden="true">5.3.2.7.</strong> parser/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/parser/parser.c.html"><strong aria-hidden="true">5.3.2.7.1.</strong> parser.c</a></li><li class="chapter-item "><a href="generated/parser/sanitise-word.c.html"><strong aria-hidden="true">5.3.2.7.2.</strong> sanitise-word.c</a></li><li class="chapter-item "><a href="generated/parser/sugar.c.html"><strong aria-hidden="true">5.3.2.7.3.</strong> sugar.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/pp.html"><strong aria-hidden="true">5.3.2.8.</strong> pp/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/pp/lambda.c.html"><strong aria-hidden="true">5.3.2.8.1.</strong> lambda.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/style.html"><strong aria-hidden="true">5.3.2.9.</strong> style/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/style/css.c.html"><strong aria-hidden="true">5.3.2.9.1.</strong> css.c</a></li><li class="chapter-item "><a href="generated/style/css-params.c.html"><strong aria-hidden="true">5.3.2.9.2.</strong> css-params.c</a></li><li class="chapter-item "><a href="generated/style/preprocess-css.c.html"><strong aria-hidden="true">5.3.2.9.3.</strong> preprocess-css.c</a></li></ol></li><li class="chapter-item "><a href="modules/c/typesetter.html"><strong aria-hidden="true">5.3.2.10.</strong> typesetter/</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="generated/typesetter/typesetter.c.html"><strong aria-hidden="true">5.3.2.10.1.</strong> typesetter.c</a></li></ol></li></ol></li></ol></li></ol></li><li class="chapter-item "><a href="license-and-author-notes.html"><strong aria-hidden="true">6.</strong> License and Author</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu (default)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Emblem v0.0.1 Documentation</h1>

                    <div class="right-buttons">
						<a id="serif-toggle-button" title="Toggle seriffed typeface" aria-label="Toggle seriffed typeface 2" aria-expanded="false" aria-shortcuts="F" aria-controls="serif-toggle" onclick="toggleSans();">
							<i id="serif-toggle-button" class="fa fa-font"></i>
						</a>
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/TheSignPainter98/emblem" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
						<!-- Page table of contents -->
						<div class="sidetoc"><nav class="pagetoc"></nav></div>

                        <center>
	<img src="favicon.svg" alt="Emblem logo" width="40%">
</center>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>When writing documentation, there are generally two choices: good looking source, and good looking output.
In spite of their ease-of-use, word-processors are typically unable to produce good-quality typographic output, with poor hyphenation and justification algorithms, lax placement of figures and only rudimentary support for global document styling.
On the flip-side, high-quality typesetting programs can be unintuitive, have odd behaviours and use a notation which us unfriendly to the user.
Emblem bridges the gap between these two realities.</p>
<p>When many existing programs were created, some particularly useful technologies either did not exist or were in their infancy.
Emblem is designed with a more modern approach to the process of typesetting large documents, in particular, it is designed to be extensible, hackable and with support for global styling rules with CSS.</p>
<p>Although significant effort has been expended to make Emblem easy to use, it is expected that the user will have some familiarity with:</p>
<ul>
<li>Running programs from the command-line / shell</li>
<li>Basic knowledge of CSS styling rules</li>
</ul>
<h2 id="whats-emblem"><a class="header" href="#whats-emblem">What’s Emblem?</a></h2>
<p>Emblem is an elegant, extensible typesetter with both a friendly interface and good output.
It sports:</p>
<ul>
<li>A lightweight, uncluttered, unified syntax
<ul>
<li>With Markdown syntactic sugar</li>
</ul>
</li>
<li>Extension support through a simple interface
<ul>
<li>User-space extensions allow for the creation of arbitrary document elements</li>
<li>Driver-extensions allow for output on any device</li>
</ul>
</li>
<li>Excellent typographic quality output</li>
<li>Global document styling through either CSS, SCSS or SASS</li>
</ul>
<h2 id="usage--document-format"><a class="header" href="#usage--document-format">Usage &amp; Document Format</a></h2>
<p>Suppose we have a simple document called <code>hello.em</code>---</p>
<pre><code class="language-emblem"># Hello, world!

How are you today? Here's a poem I like.

.centre:
	Murder Squad, Murder Squad,
	Does whatever a murder squad does
	Can they swing from a web?
	No they can’t ... Murder Squad

Hope _you_ **like** `it`.
</code></pre>
<p>This can be compiled into a PDF (the default output driver) with the following command---</p>
<pre><code class="language-sh">em hello
</code></pre>
<p>The <a href="generated/command-line-args.html">command-line interface</a> allows for a good amount of customisation of the typesetting run.
For example, the above could be modified to apply a different base style, ‘my-article-style,’ outputting to HTML---</p>
<pre><code class="language-sh">em hello -cmy-article-style -Thtml
</code></pre>
<h2 id="remarks"><a class="header" href="#remarks">Remarks</a></h2>
<p>This documentation has sections for all kinds of Emblem users, from document- and extension-writers to Emblem-developers.
No user is expected to require all of the information in these docs, hence they are split into separate sections which contain:</p>
<ul>
<li><a href="how-emblem-works.html">Information on how Emblem works</a></li>
<li><a href="how-to-use-emblem.html">Information on how to use Emblem</a></li>
<li><a href="directives.html">Descriptions of the directives available by default</a></li>
<li><a href="api.html">Information on the CLI, extension and core APIs</a></li>
<li><a href="license-and-author-notes.html">Licensing information</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="how-emblem-works"><a class="header" href="#how-emblem-works">How Emblem Works</a></h1>
<p>In this document, we will discuss the <a href="how-emblem-works.html#the-typesetting-loop">how documents are processed</a>, <a href="how-emblem-works.html#styling-documents-with-css">how documents are styled</a>, <a href="how-emblem-works.html#extensions">extensions</a> and <a href="how-emblem-works.html#input-and-output-drivers">input and output drivers</a>.</p>
<p>At its most abstracted level, Emblem takes input of a document, typesets it and outputs it.
It does this by parsing its input looking for <em>directives,</em> structuring-calls calls which sub-divide a document’s source, which can apply both styles to and perform computation upon document content.
Emblem contains a <a href="extension-api.html">standard library of directives</a> to facilitate many common tasks encountered when writing.
For example, to create a document with a table of contents and some headings, something akin to the following could be used.</p>
<pre><code class="language-emblem">.toc // Constructs the table of contents
.h1: Hello, world!
This is my first document.
</code></pre>
<p>If this is in a file called <code>my-first-doc.em</code>, we can typeset it by executing the following.</p>
<pre><code class="language-bash">em my-first-doc
</code></pre>
<p>As one might expect, this creates a table of contents followed by a level-1 header and then a some text.
The <code>.h1</code> directive is a good example of what directives can do as it applies both the <code>.h1</code> <em>style</em> (by default is an emboldened and enlarged form of main text) and computes the heading number.
This latter follows the convention of technical documents for headings and sub-headings, so for example the heading numbered 2.5.3 would be the third sub-sub-heading under the fifth sub-heading in the second section of a document.</p>
<p>The order in which elements are computed leads us to the first defining feature of Emblem.</p>
<h2 id="the-typesetting-loop"><a class="header" href="#the-typesetting-loop">The typesetting Loop</a></h2>
<p>Emblem processes its input from start to finish and whilst this lends itself naturally to some concepts, it is somewhat at-odds with others.
A notable example of this latter case is the creation of a table of contents.
As is both customary and seen in the above document, the table of contents is placed before the body of the text where the headings which it will contain are defined.
The problem is that when the table of contents is required, we cannot guarantee that headings have been processed, so Emblem would not be able to construct an accurate table of contents.</p>
<p>To alleviate this, Emblem operates a typesetting loop whereby it repeatedly typesets the document until either it has settled to a consistent state, or until a cut-off number of iterations is reached.
As such, the overall operation of Emblem can be considered as below.</p>
<center>
	<img src='img/how-emblem-loops.svg' alt='How Emblem loops' class='invertable'>
</center>
<p>The typesetting loop gives the user the guarantee that---with sufficiently-many iterations---the document output by Emblem will fully typeset after a single execution of the ‘em’ binary.
These docs also provide <a href="./controlling-the-typesetting-loop.html">more information on how to control the typesetting loop</a> elsewhere.
For now, however, we turn to the question of document styling.</p>
<h2 id="styling-documents-with-css"><a class="header" href="#styling-documents-with-css">Styling documents with CSS</a></h2>
<p>Writing documents inherently brings two concerns: the writing of good text to appeal to the mind, and the application of pleasant styles to appeal to the eye.
Naturally, when writing, some modicum of consideration must be lent to each, but they are naturally at-odds.
Given finite time, an author must decide how best to partition their efforts to please their audience.
In the extreme cases, we have on the one hand the screen-writer who, knowing their document is but a means to the realisation of their work, will choose to write using mono-spaced typefaces, with minimal concern of layout, and on the other hand the graphic designer who pours endless hours into the presentation and adjustment of but a few important words.</p>
<!-- By using [CSS][css], this same dichotomy can be achieved, and with notable benefit to the writers of long-form documents. -->
<!-- Cascading Style Sheets are an expressive and extensible way of describing the appearance of a document, popularised by the web. -->
<p>By making use of <a href="https://www.wikiwand.com/en/CSS"><em>Cascading Style Sheets (CSS)</em></a>, Emblem supports this writers’ dichotomy.
CSS is an expressive and highly extensible method of applying visual information to structured documents and, through industrious use of its selection rules, an author can construct good abstractions for how their document will appear.
This allows styling information to be <em>automatically</em> applied, thereby allowing the user to focus their attention entirely upon one of style and content, when the time comes.</p>
<p>A very useful example is in the insertion of indents at the start of paragraphs.
In long-form text in the Latin alphabet, the modern style starts each paragraph on the line immediately below the last and, to highlight the boundary, adds an indent to the first line of each paragraph after the first.
This allows the first paragraph to neatly sit upon the upper left reaches of its allotted space, the entire body of text to calmly flow uninterrupted, and for paragraphs to be clearly yet unobtrusively be delimited.
This can be concisely encoded through the use of CSS’s selectors as below.</p>
<pre><code class="language-css">p { /* By default, paragraphs are not indented */
	text-indent: none;
}
p + p { /* A paragraph which directly follows another requires an indent */
	text-indent: 2em;
}
</code></pre>
<p>As a result of this short snippet, the author no longer needs to consider where paragraph indents are applied as it will be handled automatically.</p>
<p>The user is able to add their own styles by specifying some style sheet which can be used to override the defaults and thereby tailor the look of their document.</p>
<h2 id="extensions"><a class="header" href="#extensions">Extensions</a></h2>
<p>Automation and extensibility are at the heart of Emblem, and in this section we’ll describe how it is possible to direct Emblem to do some of the author’s work for them.
When a call to a directive, <em>d</em>, is evaluated, Emblem first checks to see whether <em>d</em> is associated with an extension function.
If it is, then this function is executed and its result is taken to be a part of the document.
<a href="how-emblem-works.html#how-emblem-works">An example of this can be seen above concerning the <code>.toc</code> directive</a>, which constructs a table of contents from headings.</p>
<p>Extensions are simply <a href="https://www.lua.org">Lua</a> files and have two purposes in Emblem---the import of custom style sheets and the creation of new directive functions.
These style sheets are considered to be ‘above’ the user’s one, thus allowing for defaults to be created and overridden as required.
Conversely, directive functions have slightly more nuance.
As Emblem processes a document, it maintains a Lua environment which contains a <em>public table</em> called ‘em.’
It is this table which is checked to determine whether a given directive name has an associated function to call.</p>
<p>Extensions can be added to the runtime by use of the <code>-x</code>/<code>--extension</code> option and arguments can be passed to these extensions through use of the <code>-a</code>/<code>--ext-arg</code> option.
For example, to include an extension <code>ext</code> with parameter <code>param</code> given a value <code>arg</code>, the following can be used.</p>
<pre><code class="language-bash">em -x ext -a ext.param=arg
</code></pre>
<p>To define a new directive function, an extension simply adds an entry into the ‘em’ table,<sup class="footnote-reference"><a href="#em-loc">1</a></sup> alongside help text and the number of parameters it expects.
The entry also encodes some basic type information, so if a directive is called with the wrong number of arguments, a warning can be issued.
These entries also encode a help message which can be accessed through the <code>.help</code> directive.
The following example shows information about the <code>.echo</code> directive:</p>
<pre><code class="language-emblem">.help{echo}
</code></pre>
<p>Being constructed from Lua, extensions allow for arbitrary functionality when writing a document, however this is not the only place where extensions can operate.</p>
<h2 id="input-and-output-drivers"><a class="header" href="#input-and-output-drivers">Input and output drivers</a></h2>
<p>The other place in Emblem where extensions are accepted is when the program takes input or writes output.
Until this point, we have only discussed the writing of documents in Emblem source files (<code>*.em</code>) however in truth, Emblem can parse <em>any</em> format for which it has the appropriate input driver.
The same is true when writing output---the formats to which Emblem may output depend only the output drivers it knows.</p>
<p>These options can be accessed through the <a href="generated/command-line-args.html">command-line api</a> by using the <code>-F</code>/<code>--from</code> and <code>-T</code>/<code>--to</code> options.
The following will take input of html and output markdown.</p>
<pre><code class="language-bash">em -Fhtml -Tmd mydoc.html
</code></pre>
<p>The above is somewhat redundant---we have specified that the input file is <code>html</code> both explicitly with the <code>-F</code> option, but also implicitly with the <code>.html</code> file extension.
Therefore, Emblem also maintains a mapping of file-extensions to input languages and when no <code>-F</code> option is specified, the input file extension is used to determine the parser to use.
The core Emblem parser is used by default.</p>
<p>In the case of input drivers, it is also possible to access this same functionality from within a document, thus allowing for a document’s source to comprise of multiple languages as the author requires.
This is done through use of the <code>.include</code> directive.</p>
<pre><code class="language-emblem">.include{some-file} // Includes some-file.em
.include{some-file.em} // Same as the above
.include{some-other-file.html}{html} // Includes ‘some-other-file.html’ using the html language explicitly
.include{some-other-file.html} // Same as the above but Emblem implictly figures out that the input language is ‘html’
</code></pre>
<p>Information on how to write <a href="writing-input-drivers.html">input drivers</a> and <a href="writing-output-drivers.html">output drivers</a> can be found elsewhere in these docs.</p>
<div class="footnote-definition" id="em-loc"><sup class="footnote-definition-label">1</sup>
<p>The Emblem public table, ‘em,’ can be imported from <a href="generated/ext/lib/std/base.moon.html"><code>std.base</code></a></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expressions-and-conditions"><a class="header" href="#expressions-and-conditions">Expressions and Conditions</a></h1>
<p>In Emblem, an <em>expression</em> is a section of text which is parsed and evaluated as a mathematical statement.
These can be used to concisely represent maths operations without using the <a href="directives/expl/arithmetic.html">arithmetic</a> or <a href="directives/expl/logic.html">logic</a> directives.
A <em>condition</em> is a special case of an expression, where if the expression is empty, false is returned instead of emitting a parse-error.
These are commonly used in the <a href="directives/expl/flow-control.html">flow-control</a> directives.</p>
<p>It must be noted that expressions are <em>only capable of handling numbers,</em> so for checking textual equality for example, the <a href="directives/equality.html"><code>.streq</code> directive</a> must still be used.</p>
<p>The following operators are recognised in expressions with the numbers giving their precedence level with higher numbers indicating that the associated operators bind more tightly.
As the multiplication operator, <code>*</code>, has a higher precedence than the binary subtraction operator, <code>-</code>, we can see that the expression <code>1+2*3</code> is correctly evaluated to 7 instead of 9.</p>
<ol>
<li>
<ul>
<li><code>&lt;==&gt;</code> -- Dual implication</li>
<li><code>==&gt;</code> -- Single-implication (right)</li>
<li><code>&lt;==</code> -- Single-implication (left)</li>
</ul>
</li>
<li>
<ul>
<li><code>||</code> -- Disjunction (‘lazy-or’)</li>
</ul>
</li>
<li>
<ul>
<li><code>&amp;&amp;</code> -- Conjunction (‘lazy-and’)</li>
</ul>
</li>
<li>
<ul>
<li><code>&lt;=&gt;</code> -- Dual implication (higher precedence)</li>
<li><code>=&gt;</code> -- Single implication (right, higher precedence)</li>
</ul>
</li>
<li>
<ul>
<li><code>!=</code> -- Numeric inequality</li>
<li><code>==</code> -- Numeric equality</li>
</ul>
</li>
<li>
<ul>
<li><code>&lt;=</code> -- Inequality, less-than-or-equal, lazy</li>
<li><code>&lt;</code> -- Inequality, less-than, lazy</li>
<li><code>&gt;=</code> -- Inequality, greater-than-or-equal, lazy</li>
<li><code>&gt;</code> -- Inequality, less-than, lazy</li>
</ul>
</li>
<li>
<ul>
<li><code>~</code> -- Bitwise exclusive disjunction (‘xor’)</li>
<li><code>|</code> -- Bitwise disjunction (‘strict-or’)</li>
</ul>
</li>
<li>
<ul>
<li><code>&amp;</code> -- Bitwise conjunction (‘strict-and’)</li>
</ul>
</li>
<li>
<ul>
<li><code>+</code> -- Addition</li>
<li><code>-</code> -- Subtraction</li>
</ul>
</li>
<li>
<ul>
<li><code>//</code> -- Integer division</li>
<li><code>%</code> -- Modulo</li>
<li><code>*</code> -- Multiplication</li>
<li><code>/</code> -- Division</li>
</ul>
</li>
<li>
<ul>
<li><code>!</code> -- Logical negation</li>
<li><code>-</code> -- Numeric negation</li>
<li><code>~</code> -- Bitwise negation</li>
<li><code>+</code> -- Unary plus</li>
</ul>
</li>
<li>
<ul>
<li><code>^</code> -- Exponentiation</li>
</ul>
</li>
</ol>
<h2 id="example----fizz-buzz"><a class="header" href="#example----fizz-buzz">Example -- Fizz-Buzz</a></h2>
<p>The following is a solution in Emblem to the <a href="https://www.wikiwand.com/en/Fizz_buzz">FizzBuzz</a> common interview problem.
This is by no means a model solution for Emblem is not a programming language---first and foremost it is a typesetter, it just happens to have a handy extension language which can be programmed in.</p>
<pre><code>.for{!i &lt;- 1}{1 &lt;= !i &lt;= 100}{!i &lt;~ !i + 1}:
	.if{!i % 15 == 0}:
		.echo: FizzBuzz
	::
		.if{!i % 5 == 0}:
			.echo: Buzz
		::
			.if{!i % 3 == 0}:
				.echo: Fizz
			::
				.echo: !i
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="document-directives"><a class="header" href="#document-directives">Document directives</a></h1>
<p>In Emblem, the semantic structure of a document is partitioned by the use of directives.
As the document is processed, they are used to enact not only styling changes but also extension functions.</p>
<ul>
<li>If an extension function exists a same-name entry in the Emblem public table (<code>em</code> to extension-writers), then it is executed</li>
<li>If there is a style with the same name as the directive, then that is applied.</li>
</ul>
<p>All syntactic sugars (such as surrounding a word in underscores to make it italic) are simple translations to directive calls.</p>
<h2 id="example---styling-part-of-a-sentence"><a class="header" href="#example---styling-part-of-a-sentence">Example - Styling part of a sentence</a></h2>
<p>The following lines will all yield the same result---an entire or part of a sentence emboldened by use of the <code>.bf</code> directive.</p>
<pre><code class="language-emblem">.bf: This entire sentence is bold
This sentence is only has .bf{two bold} words.
Hello **rather obnoxious** world!
</code></pre>
<h2 id="example---cross-referencing"><a class="header" href="#example---cross-referencing">Example - Cross-referencing</a></h2>
<p>In academic papers and technical documents, it is often necessary to refer the reader to different sections, often to inform them of the location if pertinent information.
In Emblem, this is done through the label-anchor-reference system: headings and other document items set a label, a document-writer places an anchor at an important location which makes note of the label value there, and then calls a reference to that anchor which returns the required label value.</p>
<pre><code class="language-emblem"># If this is some section with some useful things in (behind the scenes it edits the current label value, for example this may be section 6.2.3)

And perhaps this is the location of that useful thing, then an anchor is set with .anchor{a-useful-thing} or the syntactic sugar @useful-thing.

# Some other document sections may then be written

Which contain other things to interest the reader.

When the time comes, and the reader’s attention must be brought back to what was before, the relevant label can be automatically determined when by calling .ref{a-useful-thing} or #a-useful-thing.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="document-structure"><a class="header" href="#document-structure">Document structure</a></h1>
<p>When writing large documents, it is typically necessary to convey the structure of the piece to the reader to allow them to not only focus their attention where is most beneficial to them, but also to convey the significance of all parts of the text.</p>
<p>For this, it is customary to use a system of headings---declarations of upcoming content---and a table of contents to allow a reader to navigate to wherever they will.</p>
<p>An analogous structure may be befitting of an author---to avoid an overlarge monolithic source, Emblem provides directives and pragmas to allow the source of a document to be partitioned into many different files.</p>
<p>In this section, we will detail each of these concepts:</p>
<ul>
<li><a href="directives/expl/../h1-6.html">Sectioning documents with headers</a></li>
<li><a href="directives/expl/../toc.html">Creating a table of contents</a></li>
<li><a href="directives/expl/../include.html">Breaking document source into multiple files</a></li>
</ul>
<h2 id="example---multi-section-document"><a class="header" href="#example---multi-section-document">Example - Multi-section document</a></h2>
<p>The following is a possible outline of the sections of a technical report.</p>
<pre><code class="language-java"># Introduction
# Background
## Motivating Example
## Concepts
# Literature Review
# Design
## Specification
## Architecture
## UI
# Implementation
## Tools and Libraries
## User-Extensions
# Results and Discussion
# Further Analysis and Extensions
# Evaluation
# Conclusion
</code></pre>
<h2 id="example---multi-file-document"><a class="header" href="#example---multi-file-document">Example - Multi-file document</a></h2>
<p>If the above example were written in a single file, it would be reasonable to assume that editing the document would slowly become more and more cumbersome.
A more manageable structure may result from taking each heading with both subheadings and a significant amount of content beneath it, and place this in a directory beneath the project root.</p>
<pre><code class="language-tree">.
|- report.em
|- introduction.em
|- background/
|   |- background.em
|   |- motivating-example.em
|   |- concepts.em
|- literature-review.em
|- design/
|   |- design.em
|   |- specification.em
|   |- architecture.em
|   |- ui.em
|- implementation/
|   |- implementation.em
|   |- tools-and-libraries.em
|- results-and-discussion.em
|- further-analysis-and-extensions.em
|- evaluation.em
|- conclusion.em
</code></pre>
<p>As we are only including Emblem source files, we can make use of the <code>:include</code> pragma to invoke the source of each document, hence the main file, <code>report.em</code>---and also the main file in each of the sections in subdirectories will look something like the below.</p>
<p>As a part of the file inclusion process for Emblem source, if a file <code>file.em</code> is not found, then <code>file/file.em</code> is tried, hence the root does not need to encode exactly how its contained sections are laid out in the file system.</p>
<pre><code class="language-emblem">:include &quot;introduction&quot;
:include &quot;background&quot;
:include &quot;literature-review&quot;
:include &quot;design&quot;
:include &quot;implementation&quot;
:include &quot;results-and-discussion&quot;
:include &quot;further-analysis-and-extensions&quot;
:include &quot;evaluation&quot;
:include &quot;conclusion&quot;
</code></pre>
<p>Where possible, the user should try to use the <code>:include</code> pragma instead of the <code>.include</code> directive as the former is more efficient, skipping a translation step between extension space and the core, which contains the Emblem parser used by both methods.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="h1-h2-h3-h4-h5-h6"><a class="header" href="#h1-h2-h3-h4-h5-h6"><code>.h1</code>, <code>.h2</code>, <code>.h3</code>, <code>.h4</code>, <code>.h5</code>, <code>.h6</code></a></h1>
<p>These directives create level 1--6 headers respectively, that is, markers to delimit the sections of a document to the reader.
These headers be numbered and will appear in the table of contents.
To create a header which does <em>not</em> appear in the =toc,= the starred variants may be used, that is <code>.h1*</code> in place of <code>.h1</code> etc.</p>
<p>The header directives take a single argument, the text of the header.</p>
<p>Given the frequency with which headers appear in documents, syntactic sugar is available---any line which starts with between one and six hashes and some space will have the remainder of the line taken as a header, just as in markdown.
Hence the line <code>.h3: some text</code> is the same as <code>### some text</code>.
Similarly, <code>.h3*: some other text</code> is the same as <code>###* some other text</code>.</p>
<h2 id="example----document-structure"><a class="header" href="#example----document-structure">Example -- Document structure</a></h2>
<p>Sections can be used to break different parts of a document (or in this case presentation script) into smaller marked areas for consumption by an intended audience.</p>
<pre><code class="language-emblem"># Introduction
Hello and welcome to our presentation on the dangers of garden gnomes.
# Why Garden Gnomes are Dangerous
You might not know this but garden gnomes are dangerous.
## What a Garden Gnome can do
You never know what a gnome will do when your back is turned.
## What Have Garden Gnomes Been Observed Doing?
Nobody has been able to record any suspicious activity in relation to garden gnomes, but that's exactly what they'd want.
# Conclusion
Watch your back out there, kiddos.
</code></pre>
<h2 id="example----document-sections-exhaustive-document"><a class="header" href="#example----document-sections-exhaustive-document">Example -- Document sections (exhaustive document)</a></h2>
<p>The following is an exhaustive list of available headers and their related syntactic sugars.</p>
<pre><code class="language-emblem">.h1: This is the largest header
.h2: This is a sub-header
.h3: This is a sub-sub-header
.h4: This header is even deeper
.h5: This is an extremely deep header
.h6: This header is so deep its utility is questionable but here it is

# This is the largest header
## This is a sub-header
### This is a sub-sub-header
#### This header is even deeper
##### This is an extremely deep header
###### This header is so deep its utility is questionable but here it is

.h1*: This appears the same as `.h1` but is un-numbered and absent from the TOC
.h2*: Same as the above but smaller
.h3*: Same as the above but smaller
.h4*: Same as the above but smaller
.h5*: Same as the above but smaller
.h6*: Same as the above but smaller

#* This appears the same as `.h1` but is un-numbered and absent from the TOC
##* Same as the above but smaller
###* Same as the above but smaller
####* Same as the above but smaller
#####* Same as the above but smaller
######* Same as the above but smaller
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="include-include-and-include"><a class="header" href="#include-include-and-include"><code>.include</code>, <code>.include*</code> and <code>:include</code></a></h1>
<p>When writing large documents which consist of a large number of sections, it can be beneficial to partition the source into a number of smaller files.
The result can be a document which is much easier to work upon than a single monolithic source file.</p>
<p>In Emblem, there are three methods by which the contents of another file can be included in a document:</p>
<ol>
<li>The <code>.include</code> directive,</li>
<li>The <code>.include*</code> directive and</li>
<li>The <code>:include</code> pragma (notice the ‘:’ prefix rather than ‘.’).</li>
</ol>
<p>We will explain the <a href="directives/include.html#basic-usage">basic usage</a> of each, before discussing how <a href="directives/include.html#file-name-handling">paths</a> and <a href="directives/include.html#languages-and-input-drivers">languages</a> are handled.</p>
<h2 id="basic-usage"><a class="header" href="#basic-usage">Basic Usage</a></h2>
<p>In basic use, the <code>.include</code> directive takes input of a file name with either no extension or ending in ‘.em,’ tries to find that file, parses it as an Emblem document and then returns the result.
This result is also cached to avoid repeatedly re-parsing the same file.</p>
<p>The contents of the specified file is then pasted into the document in the current location.
Due to how paragraphs are recognised, if the call to <code>.include</code> is the only thing in a paragraph, then the given file’s contents are scanned to discern paragraphs, however, if it is <em>not</em> the sole member of the paragraph, then its contents is added directly into the paragraph.</p>
<pre><code class="language-emblem">.include: some-file // Paragraphs in some-file.em are parsed as if were written directly in the source file

Some sentence.
.include: some-file // Content of some-file.em are pasted into the surrounding paragraph so likely appear as more sentences.
Some other sentence.
</code></pre>
<p>If the file being read is expected to change between typesetting iterations, the <code>.include*</code> directive may be used, which does not cache its result.
This is hence less efficient for un-changing source files.
The <code>.include*</code> directive shares all other properties of the <code>.include</code> directive.</p>
<p>The <code>:include</code> <em>pragma</em> differs from the <code>.include</code> directive as it is handled at parse-time, beyond the extension environment and as such, the file-path is fixed.
The following will include ‘some-file.em’ like the above---</p>
<pre><code class="language-emblem">:include &quot;some-file&quot;
</code></pre>
<p>As this is handled separately from extensions, the file path given to <code>:include</code> is constant---it cannot be changed dynamically by the user and is read exactly as seen in the source file.
Hence although the <code>:include</code> pragma is restrictive, it provides a guarantee to external tools parsing Emblem source as to the structure of the document, without needing to implement evaluation mechanics.</p>
<h2 id="file-name-handling"><a class="header" href="#file-name-handling">File name handling</a></h2>
<p>The sections in a large document naturally differ in size---the introduction and conclusion are likely dwarfed by the body of a report, the preamble and acknowledgements are likely dwarfed by these in turn, and even among the main passages of work, some will bring together content from many sources and some only few.
As such, it can be useful to partition a document’s source files into multiple folders, each helping group together relevant materials.
The file structure of a report may hence look something like this, with <code>report.em</code> as the main file.</p>
<pre><code class="language-tree">.
|- report.em
|- introduction.em
|- background/
|   |- background.em
|   |- motivating-example.em
|   |- concepts.em
|- literature-review.em
|- design/
|   |- design.em
|   |- specification.em
|   |- architecture.em
|   |- ui.em
|- implementation/
|   |- implementation.em
|   |- tools-and-libraries.em
|- results-and-discussion.em
|- further-analysis-and-extensions.em
|- evaluation.em
|- conclusion.em
</code></pre>
<p>In Emblem, this file structure is embraced by the method by which Emblem searches for ‘.em’ files.
When given a file name either <code>file.em</code> or just <code>file</code> (no extension), Emblem first searches for that file in the current directory, and if this is not found, it searches for <code>file/file.em</code>.
As such, we can include all of the required ‘.em’ files from the main one <em>without</em> needing to know how the files are laid out on disk, allowing for a more abstracted view.
The main file can hence be written as:</p>
<pre><code class="language-emblem">:include &quot;introduction&quot;
:include &quot;background&quot;
:include &quot;literature-review&quot;
:include &quot;design&quot;
:include &quot;implementation&quot;
:include &quot;results-and-discussion&quot;
:include &quot;further-analysis-and-extensions&quot;
:include &quot;evaluation&quot;
:include &quot;conclusion&quot;
</code></pre>
<h2 id="languages-and-input-drivers"><a class="header" href="#languages-and-input-drivers">Languages and input drivers</a></h2>
<p>So far, we have only discussed the inclusion of Emblem source files, however, this is not the only format accepted by Emblem.
By making use of input drivers either <em>explicitly</em> or <em>implicitly,</em> we can make use of document source written in other languages.</p>
<p>To explicitly make use of input drivers, we can make use of the optional second argument of the <code>.include</code> and <code>.include*</code> directives.
In this parameter, we can specify the language of the given source file, prompting Emblem to look for a parse function associated with that language.<sup class="footnote-reference"><a href="#input-drivers">1</a></sup>
The result of calling this function on the input file is then returned.</p>
<pre><code class="language-emblem">.include{some-file.html}{html} // Asserts that some-file.html should be parsed as html
</code></pre>
<p>The implicit use of input drivers helps eliminate some redundancy in the above statement---when a file extension is given, Emblem uses a mapping of extensions to input languages before finding the parse function as before.
As such, the second parameter in the above <code>.include</code> call can be removed, relying on Emblem to recognise the input language, hence leading to a cleaner source.</p>
<pre><code class="language-emblem">.include{some-file.html}
</code></pre>
<p>As extensions are involved in the processing of languages, we can see that the above logic only applies to the <code>.include</code> and <code>.include*</code> directives, and not the <code>:include</code> pragma.</p>
<div class="footnote-definition" id="input-drivers"><sup class="footnote-definition-label">1</sup>
<p>Recall that input drivers are just extensions which declare an association between an input language and a parse function.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="toc"><a class="header" href="#toc"><code>.toc</code></a></h1>
<p>The <code>.toc</code> directive creates a table of contents by making a list of all of the headings of a document.
As this list is only complete at the end of a run, after the <code>.toc</code> has been processed, a document with a table of contents always requires at least two iterations of the typesetting loop.
No arguments are taken.</p>
<pre><code class="language-emblem">.toc
</code></pre>
<p>If there are headings which an author does not wish to be seen in the contents table, starred variants of the heading directives should be used, that is, every appearance of <code>.h1</code> or <code># ...</code> should be replaced with <code>.h1*</code> or <code>#* ...</code> respectively, for <code>.h1</code> to <code>.h6</code>, and <code># ...</code> to <code>###### ...</code>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="references"><a class="header" href="#references">References</a></h1>
<p>Any respectable document needs a way of referring to content both within and without, the former being used to soundly structure the arguments of a document, and the latter to invoke facts presented elsewhere.</p>
<p>In Emblem, these two modes of reference are handled by two systems:</p>
<ul>
<li>The <a href="directives/expl/../anchor-and-ref.html">anchor-and-reference</a> system for internal links and</li>
<li>The <a href="directives/expl/../bib-and-cite.html">bibliography-and-citation</a> system for external links.</li>
</ul>
<p>The concepts presented in this section will likely be familiar to LaTeX users as much inspiration has been taken from the <code>\label</code>, <code>\ref</code>, <code>\bibliography</code> and <code>\cite</code> commands therein.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="anchor-and-ref"><a class="header" href="#anchor-and-ref"><code>.anchor</code> and <code>.ref</code></a></h1>
<ul>
<li>Note differences between anchor, label and ref</li>
<li>Note scoping due to label storage in variable</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bib-and-cite"><a class="header" href="#bib-and-cite"><code>.bib</code> and <code>.cite</code></a></h1>
<p>To reference other works outside of a document, we can use citations which point to bibliography entries with information on how to find the exact source.
In Emblem, these are done using the <code>.cite</code> and <code>.bib</code> directives.</p>
<p>The <code>.cite</code> directive takes input of a <em>key,</em> a unique string which provides a reference to a particular bibliography item.</p>
<p>The bibliography is both parsed and produced by the <code>.bib</code> directive.
// TODO: talk about the optional argument!</p>
<pre><code class="language-emblem">.bib // Reads from the default location
.bib: file // Reads from some-file if it exists, otherwise, file.yml, file.yaml or file.json
</code></pre>
<p>Unless the optional bibliography file-name parameter is given, this directive reads searches for a file called ‘bib’.</p>
<pre><code class="language-yaml">carlson2011you:
  title: &quot;You probably think this paper's about you: Narcissists' perceptions of their personality and reputation.&quot;
  author: Carlson, Erika N and Vazire, Simine and Oltmanns, Thomas F
  journal: Journal of personality and social psychology
  volume: 101
  number: 1
  pages: 185
  year: 2011
  publisher: American Psychological Association
greenfield2015asdf:
  title: &quot;ASDF: A new data format for astronomy&quot;
  author: Greenfield, P and Droettboom, M and Bray, E
  journal: Astronomy and Computing
  volume: 12
  pages: 240--251
  year: 2015
  publisher: Elsevier
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="flow-control"><a class="header" href="#flow-control">Flow control</a></h1>
<p>Some directives can be used to manipulate the contents of the document in response to some conditions.
Indeed, this subset of available directives are designed to act as a small Turing-complete programming language.</p>
<p>Over the following sections, we will explore directives for:</p>
<ul>
<li>Branching
<a href="directives/expl/../case.html"><code>.case</code></a>
<a href="directives/expl/../if.html"><code>.if</code></a></li>
<li>Looping
<a href="directives/expl/../foreach.html"><code>.foreach</code></a></li>
<li>Handling directives
<a href="directives/expl/../call.html"><code>.call</code></a>
<a href="directives/expl/../def.html"><code>.def</code></a>
<a href="directives/expl/../exists.html"><code>.exists</code></a>
<a href="directives/expl/../undef.html"><code>.undef</code></a></li>
<li>Handling variables
<a href="directives/expl/../defined.html"><code>.defined</code></a>
<a href="directives/expl/../get-var.html"><code>.get-var</code></a>
<a href="directives/expl/../set-var.html"><code>.set-var</code></a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="call"><a class="header" href="#call"><code>.call</code></a></h1>
<p>The <code>.call</code> directive takes input of a directive name and some arguments to pass to it.
It returns a call to the specified directive with the arguments given.
For example, one could call <code>.echo</code> with three arguments like so---</p>
<pre><code class="language-emblem">.call{echo}{Hello}{world}{how are you?}
</code></pre>
<p>Which is implicitly translated by the <code>.call</code> to---</p>
<pre><code class="language-emblem">.echo{Hello}{world}{how are you?}
</code></pre>
<p>As the <em>name</em> of the directive is required, note that the <code>.</code> which precedes directive calls is omitted, so <code>.echo</code> above becomes just <code>echo</code>.</p>
<h2 id="example---specifying-an-error-function"><a class="header" href="#example---specifying-an-error-function">Example - Specifying an error function</a></h2>
<p>The following code could be used to change the severity of an error condition based on a user’s preference.
That the user inputs a number is assumed for brevity.</p>
<pre><code class="language-emblem">!err_severity &lt;- .readline
!err_func &lt;- .case{!err_severity}{echo}{warn}{error}
...
.call{!err_func}: Something went wrong!
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="case"><a class="header" href="#case"><code>.case</code></a></h1>
<p>The case directive is used to select one of a number of cases by index.
These cases are 1-indexed, so the first is referenced by index 1.
So for example if <code>!index</code> is 2, the following will be evaluated to ‘World.’</p>
<pre><code class="language-emblem">.case{!index}:
	Hello
::
	World
::
	How are you?
</code></pre>
<p>If the index supplied is higher than the number of cases present or is negative, the last case is returned as a fallback option, hence if above <code>!index</code> is -1 or 12 for example, ‘How are you?’ will be returned.</p>
<p>The index given to <code>.case</code> is parsed as an <a href="directives/../expressions.html">expression</a>, hence it is possible to compute the index using mathematical operators.</p>
<h2 id="example----chinese-calendar-year-name"><a class="header" href="#example----chinese-calendar-year-name">Example -- Chinese calendar year name</a></h2>
<p>The following could be used to translate from the year number in the Gregorian calendar to its Chinese calendar name, assuming the current year is stored in <code>!year</code>.</p>
<pre><code class="language-emblem">.case{1 + !year % 12}{Rooster}{Dog}{Pig}{Rat}{Ox}{Tiger}{Rabbit}{Dragon}{Snake}{Horse}{Goat}{Monkey}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="def"><a class="header" href="#def"><code>.def</code></a></h1>
<p>This directive allows the user to define their own directives for later use.
It takes two inputs: a directive name and a directive body to be executed whenever the new directive is called.
The new directive is allowed to take parameters which can be referenced by values <code>!n</code> in the loop body, so <code>!1</code> evaluates to the first argument given, <code>!2</code> the second and so on.</p>
<p>Note that as a directive name is taken, there is no <code>.</code> preceding the new directive name when <code>.def</code> is called.
If functions are nested, it may be useful to use <a href="directives/get-var.html">multiple exclamation marks</a> when accessing arguments from different scopes.</p>
<h2 id="example----checking-input"><a class="header" href="#example----checking-input">Example -- Checking input</a></h2>
<p>The following could be used to perform type-checking upon a given value.</p>
<pre><code class="language-emblem">.def{bool}:
	.if{! .streq{!1}{true} || .streq{!1}{false}}:
		.error: Expected either ‘true’ or ‘false’ but got !1
	!1
</code></pre>
<p>Then, later in the document the following could be written:</p>
<pre><code class="language-emblem">.bool{true}
.bool{false}
</code></pre>
<p>This would give certainty that boolean values have indeed been given.
The <code>.bool</code> function may be useful if some values are stored in variables, or some other method which obscures the value from the source.</p>
<p>The <code>.def</code> directive is provided to allow an author to extend the functionality of Emblem from within their document.
It is useful for simple tasks, however for more complicated ones, it may be easier to write an extension and make use of <a href="https://moonscript.org">Moonscript</a> or <a href="https://www.lua.org">Lua</a>’s abstractions instead.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="defined"><a class="header" href="#defined"><code>.defined</code></a></h1>
<p>The <code>.defined</code> directive checks whether a given directive name corresponds to a known directive function and returns <code>1</code> or <code>0</code> accordingly.</p>
<pre><code class="language-emblem">.defined{echo} // Returns 1 as .echo exists
.undef{echo} // Undefines .echo
.defined{echo} // Returns 0 as .echo no longer exists.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exists"><a class="header" href="#exists"><code>.exists</code></a></h1>
<p>The <code>.exists</code> directive checks whether a given variable name exists in current scope or in a parent and then returns <code>1</code> or <code>0</code> accordingly.</p>
<pre><code class="language-emblem">.exists{x} // Returns 0 as !x does not exist
!x &lt;- asdf
.exists{x} // Returns 1 as !x now exists.
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="for"><a class="header" href="#for"><code>.for</code></a></h1>
<p>The <code>.for</code> directive emulates the standard <a href="https://www.wikiwand.com/en/For_loop">for-loop</a> seen in many programming languages.
It takes input of:</p>
<ol>
<li>An initialiser -- a statement which is performed before iterations commence. It is customary to define an iteration variable here.</li>
<li>A condition -- a <a href="directives/../expressions.html">condition</a> which is evaluated before each iteration, and if it is found to be false, <code>.for</code> execution terminates</li>
<li>A mutator -- a statement which is executed at the end of each iteration. It is customary to mutate the iteration variable here.</li>
<li>A loop body -- a section of emblem script to execute each iteration which is included in the for-loop’s return value</li>
</ol>
<p>There are two scope considerations:</p>
<ul>
<li>The loop body is evaluated within its own scope</li>
<li>The initialiser, condition and mutator are evaluated within a scope which surrounds the loop body.</li>
</ul>
<p>This second point means that whereas the default assignment operator, <code>&lt;-</code>, can be used in the initialiser and mutator, for the same effect on the iteration variable, the finding-assignment operator, <code>&lt;--</code>, should be used to ensure that the change to the iteration variable is not lost at inner scope-closure.
The same is true of the expression-assignment and finding-expression-assignment operators, <code>&lt;~</code> and <code>&lt;~~</code>.</p>
<h2 id="example----iterating-over-even-numbers"><a class="header" href="#example----iterating-over-even-numbers">Example -- Iterating over even numbers</a></h2>
<p>The following outputs the even numbers inclusively between one and one hundred by allowing an iteration variable, <code>!i</code> to take values from 2 to 100 in increments of 2.</p>
<pre><code class="language-emblem">.for{!i &lt;- 2}{1 &lt;= !i &lt;= 100}{!i &lt;~ !i + 2}:
	.echo: !i
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="foreach"><a class="header" href="#foreach"><code>.foreach</code></a></h1>
<p>The <code>.foreach</code> directive takes three inputs: an iteration variable name, a list of values and a loop body, and evaluates the loop body once for each value in the given list, assigning the iteration variable as it goes.
The list of values is parsed as a space-separated list.</p>
<p>As an example, the following will write the help text associated with each known directive to the console.</p>
<pre><code class="language-emblem">.foreach{d}{.known-directives}:
	.echo: .help: !d
</code></pre>
<p>The <code>.foreach</code> directive hence performs a bounded iteration---the number of times it loops is bounded by the size of its ‘values’ input.</p>
<h2 id="example----testing-the-truth-values-of-a-boolean-function"><a class="header" href="#example----testing-the-truth-values-of-a-boolean-function">Example -- Testing the truth values of a boolean function</a></h2>
<p>This code will iterate over input values to the <code>.expr</code> implication operator, <code>=&gt;</code>, and output the associated truth value.</p>
<pre><code class="language-emblem">.foreach{x}{false true}:
	.foreach{y}{false true}:
		.echo: !x !y .expr: !x =&gt; !y
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="get-var"><a class="header" href="#get-var"><code>.get-var</code></a></h1>
<p>This directive takes input of a variable name and obtains its value in the current scope.
If there is no such value with that name, nothing is returned.</p>
<p>The <code>.get-var</code> directive has associated syntactic sugar, so the following two are equivalent.</p>
<pre><code class="language-emblem">.get-var{variable}
!variable
</code></pre>
<p>More exclamation points can be used to widen the scope searched, hence <code>!!var</code> will obtain the value of ‘var’ in the scope above its current definition.</p>
<p>The <code>.get-var</code> directive is the counter-part to <a href="directives/set-var.html"><code>.set-var</code></a>, which sets variables to given values.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="if"><a class="header" href="#if"><code>.if</code></a></h1>
<p>This directive allows for the selection of a single branch (or none) by use of a <a href="directives/../expressions.html">condition</a>.
This directive takes two forms:</p>
<pre><code class="language-emblem">.if{condition}{branch}
.if{condition}{branch 1}{branch 2}
</code></pre>
<p>The two-argument form operates as follows:</p>
<ul>
<li>If <em>condition</em> is true, <em>branch</em> is returned</li>
<li>Otherwise nothing is returned</li>
</ul>
<p>The three-argument form operates as follows:<sup class="footnote-reference"><a href="#ifelse">1</a></sup></p>
<ul>
<li>If <em>condition</em> is true, <em>branch 1</em> is returned</li>
<li>Otherwise, <em>branch 2</em> is returned</li>
</ul>
<h2 id="example----greetings-message"><a class="header" href="#example----greetings-message">Example -- Greetings message</a></h2>
<p>Assuming that the variable <code>!is_morning</code> contains a value which represents whether the current time is morning, we could tailor the user’s greeting message to the current time.</p>
<pre><code class="language-emblem">.echo:
	.if{!is_morning}:
		Good morning!
	::
		Hello!
</code></pre>
<div class="footnote-definition" id="ifelse"><sup class="footnote-definition-label">1</sup>
<p>This form operates exactly the same as an if-else block common to many programming languages.</p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="set-var"><a class="header" href="#set-var"><code>.set-var</code></a></h1>
<p>The <code>.set-var</code> directive is what the <code>!var &lt;- val</code> syntactic sugar is translated to at parse-time.
This directive takes the name of a variable and a value, and assigns that variable to the <em>string representation</em> of the given value at the point of call.</p>
<p>By syntactic sugar, the following two lines are equivalent and both set the value of variable <code>hello</code> in the current scope to ‘world.’</p>
<pre><code class="language-emblem">.set-var{hello}{world}
!hello &lt;- world
</code></pre>
<p>Note the initial exclamation mark required on the second line.
This is required by the parser and is reflected in the same number of exclamation marks when referencing that variable.</p>
<p>If the variable name contains exclamation marks, the scope of the assignment is widened, so for example, to set the variable <code>hello</code> in the <em>parent</em> scope and set that to ‘world,’ we can call</p>
<pre><code class="language-emblem">.set-var{\!hello}{world}
</code></pre>
<p>Note that as we want the literal variable name, the initial exclamation mark must be escaped to prevent variable recognition at parse-time and hence expansion.
Only the first exclamation mark requires an escape, so the literal <code>!!asdf</code> can be escaped into <code>\!!asdf</code>.
The above snippet is equivalent by syntactic sugar to the following.</p>
<pre><code class="language-emblem">!!hello &lt;- world
</code></pre>
<p>More exclamation marks will widen the scope-search further.</p>
<p>The <code>.set-var</code> directive has some variants for some specialised use-cases.
We combine <a href="directives/expr.html"><code>.expr</code></a> with <code>.set-var</code> with the <code>.set-var-expr</code> directive, which evaluates the value parameter as an expression before performing assignment.
We also have <code>.find-set-var</code> and <code>.find-set-var-expr</code>, which are the same as <code>.set-var</code> and <code>.set-var-expr</code>, except that the search for an existing instance of the variable is always performed, even when the number of exclamation marks specified would not trigger it with the non-find assignment directives.
This cleans up the syntax slightly for the common operation of extracting a value from the scope of a loop for example---the following two are equivalent.</p>
<pre><code class="language-emblem">!!hello &lt;- world
!hello &lt;-- world
</code></pre>
<p>The variants of <code>.set-var</code> each have their own syntactic sugar.
The following is a list of all sugars associated with assignment</p>
<pre><code class="language-emblem">!var &lt;- value // Equivalent to .set-var{var}{value}
!var &lt;~ exp // Equivalent to .set-var-expr{var}{exp} or !var &lt;- .expr: exp
!var &lt;-- value // Equivalent to .find-set-var{var}{value}
!var &lt;~~ exp // Equivalent to .find-set-var-expr{var}{exp} or !var &lt;-- .expr: exp
</code></pre>
<h2 id="example----recording-a-users-name-for-later-use"><a class="header" href="#example----recording-a-users-name-for-later-use">Example -- Recording a user’s name for later use</a></h2>
<p>We could write a document like so which takes input of the user’s name and then re-uses that value multiple times.
By storing the user’s response in a variable, we can avoid the need to re-ask them.</p>
<pre><code class="language-emblem">.echo: Please enter your name
!name &lt;- .readline
Dear !name,
It has come to my attention that the name !name is shared by us both.
Please change yours.
Warmest regards,
!name
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="undef"><a class="header" href="#undef"><code>.undef</code></a></h1>
<p>Calling <code>.undef</code> with the name of a directive removes that directive from use.
If the given directive is not known, nothing is done.</p>
<h2 id="example----preventing-system-calls"><a class="header" href="#example----preventing-system-calls">Example -- Preventing system calls</a></h2>
<p>The following example un-defines the <a href="directives/system.html">system directive, <code>.$</code></a>.</p>
<pre><code class="language-emblem">.undef{$}
</code></pre>
<h2 id="example----ruining-user-experience"><a class="header" href="#example----ruining-user-experience">Example -- Ruining user experience</a></h2>
<p>The <code>.undef</code> directive can be used to remove all directives from availability.</p>
<pre><code class="language-emblem">.foreach{d}{.known-directives}:
	.undef{!d}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="while"><a class="header" href="#while"><code>.while</code></a></h1>
<p>The <code>.while</code> directive takes two inputs: a <a href="directives/../expressions.html">condition</a> and a loop body and does the following:</p>
<ol>
<li>Check to see if the condition is true</li>
<li>If it is, evaluate the loop body and go to step 1</li>
</ol>
<p>The results of each iteration are concatenated together beneath a Content node:</p>
<h2 id="example----sanitising-user-input"><a class="header" href="#example----sanitising-user-input">Example -- Sanitising user input</a></h2>
<p>When using the <a href="directives/readline.html"><code>.readline</code> directive</a> which reads a single line from the standard input, some sanitisation may be needed on a user’s input.
The following will ask the user for an input until they enter something which isn’t empty</p>
<pre><code class="language-emblem">.echo: Please input a number
!x &lt;- .readline
.while{.streq{}: !x}:
	.warn: User didn't enter anything
	!x &lt;-- .readline
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="logging"><a class="header" href="#logging">Logging</a></h1>
<p>Some directives can be used to report the state of the document, either for general information (<a href="directives/expl/../echo.html"><code>.echo</code></a>), for warning the user about a possibly problematic state (<a href="directives/expl/../warn.html"><code>.warn</code></a>) or for halting execution at a catastrophic failure (<a href="directives/expl/../error.html"><code>.error</code></a>).</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="echo-and-echo-on"><a class="header" href="#echo-and-echo-on"><code>.echo</code> and <code>.echo-on</code></a></h1>
<p>These directives write text to the standard output.
If multiple text arguments are given, they are concatenated together with spaces before being echoed.
The <code>.echo-on</code> directive treats its first input as a typesetting loop pass number and will only output on that pass.</p>
<h2 id="example----asking-the-users-name"><a class="header" href="#example----asking-the-users-name">Example -- Asking the user’s name</a></h2>
<p>Using the <a href="directives/readline.html"><code>.readline</code> directive</a> a line of input can be read from <code>stdin</code>, allowing the program to respond to the user.</p>
<pre><code class="language-emblem">.echo: Hello, what’s your name?
!name &lt;- .readline
.echo: Oh hello, !name
</code></pre>
<h2 id="example----outputting-the-current-pass"><a class="header" href="#example----outputting-the-current-pass">Example -- Outputting the current pass</a></h2>
<p>The following could be placed at the top of an input file to more explicitly show which typesetting pass is currently being evaluated.</p>
<pre><code class="language-emblem">.echo-on{1}: Hello this is the first pass
.echo-on{2}: This is the second pass
.echo-on{3}: This is the third one
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="error-and-error-on"><a class="header" href="#error-and-error-on"><code>.error</code> and <code>.error-on</code></a></h1>
<p>When something has gone terribly wrong, the user may wish to stop the program.
In Emblem, this can be done by use of the <code>.error</code> directive, which takes input of a message and outputs it as an error from the current source location before halting the program.
If multiple arguments are given, all are concatenated together before output is given as usual.</p>
<p>If the error is only applicable to a certain typesetting pass, the <code>.error-on</code> directive may be used.
This takes input of a number and message(s) as the <code>.error</code> directive, but only outputs when the current typesetting iteration is equal to the number given.</p>
<p>For non-critical errors, that is, those for which execution can safely continue, consider using the <a href="directives/warn.html"><code>.warn</code> or <code>.warn-on</code> directives</a>.</p>
<h2 id="example----sanitising-user-input-1"><a class="header" href="#example----sanitising-user-input-1">Example -- Sanitising user input</a></h2>
<p>When using the <a href="directives/readline.html"><code>.readline</code> directive</a> which reads a single line from the standard input, some sanitisation may be needed on a user’s input.
The following will check to see that the user has indeed input something.</p>
<pre><code class="language-emblem">.echo: Please input a number
!x &lt;- .readline
.if{.streq{}: !x}:
	.error: User didn't enter anything
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="warn-and-warn-on"><a class="header" href="#warn-and-warn-on"><code>.warn</code> and <code>.warn-on</code></a></h1>
<p>When something has gone wrong but the problem isn’t fatal, a warning may be required to notify the user of what has happened.
This can be done using the <code>.warn</code> directive, which takes input of a message and outputs it as a warning from the current source location.
If multiple arguments are given, all are concatenated together before output is given as usual.</p>
<p>The <code>.warn</code> directive is subject to the warning-handling specified at the command-line, in particular the <a href="directives/../generated/command-line-args.html#-e---fatal-warnings"><code>-E</code> flag</a> turns warnings into errors.</p>
<p>If the warning is only applicable to a particular typesetting pass, the <code>.warn-on</code> directive may be used, which takes input of a pass number to perform the output upon and the remainder of its arguments as <code>.warn</code>.</p>
<h2 id="example----sanitising-user-input-2"><a class="header" href="#example----sanitising-user-input-2">Example -- Sanitising user input</a></h2>
<p>When using the <a href="directives/readline.html"><code>.readline</code> directive</a> which reads a single line from the standard input, some sanitisation may be needed on a user’s input.
The following will ask the user for an input until they enter something which isn’t empty</p>
<pre><code class="language-emblem">.echo: Please input a number
!x &lt;- .readline
.while{.streq{}: !x}:
	.warn: User didn't enter anything
	!x &lt;-- .readline
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="logic"><a class="header" href="#logic">Logic</a></h1>
<p>To augment the capabilities of the <a href="directives/expl/./flow-control.html">flow control directives</a>, it is possible to construct logical conditions from other statements.</p>
<p>In particular, directives are provided to:</p>
<ul>
<li><a href="directives/expl/../equality.html">Compute equality</a></li>
<li><a href="directives/expl/../inequalities.html">Compute inequality</a></li>
<li><a href="directives/expl/./boolean.html">Handle boolean values</a></li>
</ul>
<p>These are discussed in this section.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="eq-numeq-streq"><a class="header" href="#eq-numeq-streq"><code>.eq</code>, <code>.numeq</code>, <code>.streq</code></a></h1>
<p>In Emblem, there are three modes of equality: structural, textual and numerical.
These correspond to the equality functions <code>.eq</code>, <code>.streq</code> and <code>.numeq</code> respectively.
Although all compute equality, the differences between each should be noted.</p>
<h2 id="structural-equality----eq"><a class="header" href="#structural-equality----eq">Structural equality -- <code>.eq</code></a></h2>
<p>This definition of equality is the strongest, it looks at the document structure of two items and asks whether they are <em>identical,</em> that is, not only does it look at each literal fragment, but also checks whether these are arranged in memory in the same way.</p>
<p>It must be noted that <em>results</em> of directive calls are also checked, which can lead to some odd results.</p>
<h3 id="example----identical-structures"><a class="header" href="#example----identical-structures">Example -- Identical structures</a></h3>
<p>The following examples all return true as they are identical</p>
<pre><code class="language-emblem">.eq{}{}
.eq{hello, world!}{hello, world!}
.eq:
	.it:
		Hello, world!
::
	.it:
		Hello, world!
</code></pre>
<h3 id="example----non-equal-apparently-identical-structures"><a class="header" href="#example----non-equal-apparently-identical-structures">Example -- Non-equal, apparently identical structures</a></h3>
<p>However, all of the following are false as, although they may appear the same in output they differ in how they got there.
Some of the following behaviour may seem strange, but comes as a consequence of the very insistent nature of this kind of equality.</p>
<pre><code class="language-emblem">!x &lt;- a
!y &lt;- b
.eq{!x}{!y} // This is false as different variables are referenced (‘x’ and ‘y’)
.eq: // This is false as when evaluated these two sections are given distinct numbers
	# Hello, world!
::
	# Hello, world!
.eq: // This is false due to the method by which trailing arguments are handled (a node to represent hold possibly multiple lines is necessarily inserted
	.it{Hello, world!}
	.it:
		Hello, world!
</code></pre>
<h3 id="example----apparently-non-equal-identical-structures"><a class="header" href="#example----apparently-non-equal-identical-structures">Example -- Apparently non-equal, identical structures</a></h3>
<p>As syntactic sugar is translated into directive calls when parsing is performed, all of the following are true.</p>
<pre><code class="language-emblem">.eq{_something emphasised_}{.it{something emphasised}}
.eq{[a-citation]}{.cite{a-citation}}
.eq{!x &lt;- asdf}{.set-var{x}{asdf}}
</code></pre>
<h2 id="textual-equality----streq"><a class="header" href="#textual-equality----streq">Textual equality -- <code>.streq</code></a></h2>
<p>Whereas structural equality checks the internal representation of structures, textual or ‘string’ equality simply checks to see whether the literal text from two sources is the same, regardless of how they were constructed.</p>
<p>Any structurally-equal pair of values is necessarily textually-equal.</p>
<h3 id="example----non-identical-structures-with-textual-equality-1"><a class="header" href="#example----non-identical-structures-with-textual-equality-1">Example -- Non-identical structures with textual equality 1</a></h3>
<p>The following all resolve to a true value at the point when the standard library has finished loading.</p>
<pre><code class="language-emblem">.streq{**something emphasised**}{_something emphasised_}
.streq{.tt{something}}{.bf{something}}
.streq{.it{two words}}{.it{two}{words}}
</code></pre>
<h3 id="example----apparently-equal-structures-without-textual-equality"><a class="header" href="#example----apparently-equal-structures-without-textual-equality">Example -- Apparently-equal structures without textual equality</a></h3>
<p>The following evaluates to a false value for the same reason that it does not have structural-equality---when constructing a <code>.h1</code> header, a section number is prepended</p>
<pre><code class="language-emblem">.streq:
	// The text here is ‘1. Hello, world!’
	# Hello, world!
::
	// The text here is ‘2. Hello, world!’
	# Hello, world!
</code></pre>
<h2 id="numerical-equality----numeq"><a class="header" href="#numerical-equality----numeq">Numerical equality -- <code>.numeq</code></a></h2>
<p>Whereas textual equality checks that all literals in the text are equal, numerical equality first attempts to translate the text into a number before doing the same.
As a result, numerical equality is weaker than textual equality.
The numbers considered are base-10.</p>
<p>It should be noted that the numerical equality function does not perform any operations such as addition or subtraction.
If these are required, they must be invoked explicitly through other directives whose results are passed as inputs to <code>.numeq</code>.
<a href="directives/./expl/arithmetic.html">More information on arithmetic directives is available elsewhere.</a></p>
<h3 id="example----equal-numbers"><a class="header" href="#example----equal-numbers">Example -- Equal numbers</a></h3>
<p>Prepended zeros have no bearing on the value of a number and hence are ignored under numerical equality.
All of the following evaluate to a true value.</p>
<pre><code class="language-emblem">.numeq{1234}{1234}
.numeq{1234}{000000000000000001234}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="expr"><a class="header" href="#expr"><code>.expr</code></a></h1>
<p>The <code>.expr</code> directive takes input of an <a href="directives/../expressions.html">expression</a>, parses and evaluates it.
As it uses the same parsing logic as the <a href="directives/./expl/flow-control.html">flow-control</a> directives, it is possible to use <code>.expr</code> for debugging.</p>
<h2 id="example----a-simple-calculator"><a class="header" href="#example----a-simple-calculator">Example -- A simple calculator</a></h2>
<p>Using <code>.expr</code> and a while loop, a simple calculator can be made.
The following will repeatedly read an expression to evaluate from the user, until they input nothing.</p>
<pre><code class="language-emblem">!resp &lt;- .readline
.while{! .streq{}{!resp}}:
	.echo: .expr: !resp
	!resp &lt;-- .readline
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="gt-ge-lt-le"><a class="header" href="#gt-ge-lt-le"><code>.gt</code>, <code>.ge</code>, <code>.lt</code>, <code>.le</code></a></h1>
<p>The inequality functions take input of numerical values and return a boolean value as one might expect them to in maths.
At their heart, they take pairs of numbers and check whether they satisfy the relevant condition:</p>
<ul>
<li><code>.gt</code>---Greater than</li>
<li><code>.ge</code>---Greater than or equal</li>
<li><code>.lt</code>---Less than</li>
<li><code>.le</code>---Less than or equal</li>
</ul>
<h2 id="example----checking-pairs-of-numbers"><a class="header" href="#example----checking-pairs-of-numbers">Example -- Checking pairs of numbers</a></h2>
<p>The following are simple examples of inequalities</p>
<pre><code class="language-emblem">.gt{123}{321} // Evaluates to false
.ge{123}{321} // Evaluates to false
.lt{123}{321} // Evaluates to true
.le{123}{321} // Evaluates to true
.gt{456}{456} // Evaluates to false
.ge{456}{456} // Evaluates to true
.lt{456}{456} // Evaluates to false
.le{456}{456} // Evaluates to true
</code></pre>
<h2 id="example----checking-more-than-two-numbers"><a class="header" href="#example----checking-more-than-two-numbers">Example -- Checking more than two numbers</a></h2>
<p>Sometimes, multiple numbers must be checked, and in this case maths often uses the following shorthand:</p>
<p>\( a \leq b \leq c \Longleftrightarrow a \leq b \mathrel{\&amp;} b \leq c \)</p>
<p>The directives we discuss here also allow the same functionality---if more than two arguments are presented, from left to right, each consecutive pair is checked for inequality and a true value is only returned if all these conditions hold.
It should be noted that computation can be halted early, so later arguments will not be evaluated if an earlier pair evaluates to a false value.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="boolean"><a class="header" href="#boolean">Boolean</a></h1>
<p>Sometimes, it is necessary to combine several conditions into one, more complicated one.</p>
<p>It must be noted that each of these directives consider their input values in the same way as the <a href="directives/expl/./flow-control.html">flow-control directives</a>:</p>
<ol>
<li>If the value is empty, it is false</li>
<li>If the value is ‘0’, it is false</li>
<li>If the value is ‘false’ (case-insensitive), it is false</li>
<li>Any other value is true</li>
</ol>
<p>In the following section, we describe an adequate set of operators with which any boolean expression may be represented:</p>
<ul>
<li><a href="directives/expl/../all.html"><code>.all</code></a>---conjunction, similar to the ‘and’ operator of many programming languages</li>
<li><a href="directives/expl/../any.html"><code>.any</code></a>---disjunction, similar to the ‘or’ operator of many programming languages</li>
<li><a href="directives/expl/../impl.html"><code>.impl</code></a>---implication</li>
<li><a href="directives/expl/../not.html"><code>.not</code></a>---negation</li>
<li><a href="directives/expl/../xor.html"><code>.xor</code></a>---exclusive disjunction</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="all"><a class="header" href="#all"><code>.all</code></a></h1>
<p>The <code>.all</code> directive interprets its inputs as conditions and iff none is false, it returns a true value.
It evaluates its arguments from left to right as required to resolve its value---if any are false, the rest of its arguments are not evaluated.</p>
<pre><code class="language-emblem">.all{true}{true}{true} // returns true
.all{true}{true}{false} // returns false
.all{false}{false} // returns false
.all // Vacuously returns true
.all{false}{.error{Something went wrong}} // This returns false and never calls .error
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="any"><a class="header" href="#any"><code>.any</code></a></h1>
<p>The <code>.any</code> directive interprets its inputs as conditions and iff at least one is true, it returns a true value.
It evaluates its arguments from left to right as required to resolve its value---if any are true, the rest of its arguments are not evaluated.</p>
<pre><code class="language-emblem">.any{true}{true}{true} // returns true
.any{true}{true}{false} // returns true
.any{false}{false} // returns false
.any // Vacuously returns false
.any{true}{.error{Something went wrong}} // This returns true and never calls .error
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="impl"><a class="header" href="#impl"><code>.impl</code></a></h1>
<p>This directive computes boolean implication, that is, given two inputs whether one implies the other by the following truth table.</p>
<table><thead><tr><th>\( a \)</th><th>\( b \)</th><th>\( a \Rightarrow b \)</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>true</td></tr>
<tr><td>false</td><td>true</td><td>false</td></tr>
<tr><td>true</td><td>false</td><td>true</td></tr>
<tr><td>true</td><td>true</td><td>true</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="not"><a class="header" href="#not"><code>.not</code></a></h1>
<p>This takes a single boolean input and negates it---</p>
<table><thead><tr><th>\( a \)</th><th>\( \neg b \)</th></tr></thead><tbody>
<tr><td>false</td><td>true</td></tr>
<tr><td>true</td><td>false</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="xor"><a class="header" href="#xor"><code>.xor</code></a></h1>
<p>This directive takes two conditions and outputs their exclusive disjunction, that is, it returns true iff they have different boolean values.</p>
<table><thead><tr><th>\( a \)</th><th>\( b \)</th><th>\( a \oplus b \)</th></tr></thead><tbody>
<tr><td>false</td><td>false</td><td>false</td></tr>
<tr><td>false</td><td>true</td><td>true</td></tr>
<tr><td>true</td><td>false</td><td>true</td></tr>
<tr><td>true</td><td>true</td><td>false</td></tr>
</tbody></table>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arithmetic"><a class="header" href="#arithmetic">Arithmetic</a></h1>
<p>Directives are provided to handle numbers.
They do what one might expect, they take numbers, operate upon them and output a number.
This section details these directives.</p>
<p>When parsing numbers, it is important to note some things.
In particular, numbers:</p>
<ul>
<li>are in base-10</li>
<li>cannot contain spaces</li>
<li>can be negative</li>
<li>can contain fractional parts (after the radical point)</li>
<li>can be \( \pm \infty \)</li>
<li>can be NaN (not-a-number)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="abs"><a class="header" href="#abs"><code>.abs</code></a></h1>
<p>Computes the absolute value or magnitude of a given number, that is, the unsigned distance between it and zero.</p>
<p>\( \mathtt{.abs}(x) = \vert{x}\vert = \begin{cases} x &amp; \text{if}\ x \geq 0 \\ -x &amp; \text{if}\ x &lt; 0 \end{cases} \)</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="add"><a class="header" href="#add"><code>.add</code></a></h1>
<p>Takes two numbers, adds them and returns the result.</p>
<pre><code class="language-emblem">.add{4}{25} // Returns 29
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="div"><a class="header" href="#div"><code>.div</code></a></h1>
<p>Takes two numbers, returns the left divided by the right.
There are some special cases:</p>
<ul>
<li>When only the right input is zero:
<ul>
<li>Returns \( +\infty \) when the left input is positive</li>
<li>Returns \( -\infty \) when the left input is negative</li>
</ul>
</li>
<li>When both inputs are zero:
<ul>
<li>Returns <code>±NaN</code></li>
</ul>
</li>
</ul>
<p>The <code>.div</code>, <code>.idiv</code> and <code>.mod</code> functions are related by the following identity---</p>
<p>\[ \frac ab = a \mathbin{//} b + \frac{a \mathbin{\%}b} b \]</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="idiv"><a class="header" href="#idiv"><code>.idiv</code></a></h1>
<p>Takes two numbers, returns the left integer-divided by the right, that is, division is performed and then the result is rounded <em>down</em> to the nearest integer (the quotient).</p>
<p>There are some special cases:</p>
<ul>
<li>When only the right input is zero:
<ul>
<li>Returns \( +\infty \) when the left input is positive</li>
<li>Returns \( -\infty \) when the left input is negative</li>
</ul>
</li>
<li>When both inputs are zero:
<ul>
<li>Returns <code>±NaN</code></li>
</ul>
</li>
</ul>
<p>The <code>.div</code>, <code>.idiv</code> and <code>.mod</code> functions are related by the following identity---</p>
<p>\[ \frac ab = a \mathbin{//} b + \frac{a \mathbin{\%}b} b \]</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mod"><a class="header" href="#mod"><code>.mod</code></a></h1>
<p>Takes two numbers, and returns the remainder of the left when integer-divided by the right.</p>
<p>There are some special cases:</p>
<ul>
<li>When only the right input is zero:
<ul>
<li>Returns \( +\infty \) when the left input is positive</li>
<li>Returns \( -\infty \) when the left input is negative</li>
</ul>
</li>
<li>When both inputs are zero:
<ul>
<li>Returns <code>±NaN</code></li>
</ul>
</li>
</ul>
<p>The <code>.div</code>, <code>.idiv</code> and <code>.mod</code> functions are related by the following identity---</p>
<p>\[ \frac ab = a \mathbin{//} b + \frac{a \mathbin{\%}b} b \]</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mul"><a class="header" href="#mul"><code>.mul</code></a></h1>
<p>Takes input of two numbers and returns their product.</p>
<pre><code class="language-emblem">.mul{4}{25} // Returns 100
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pow"><a class="header" href="#pow"><code>.pow</code></a></h1>
<p>Takes a base and an exponent and returns the base raised to the power of the exponent.</p>
<pre><code class="language-emblem">.pow{2}{3} // Returns 8
.pow{2}{-3} // Returns 0.125
.pow{3}{2} // Returns 9
.pow{-3}{2} // Returns 9
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sign"><a class="header" href="#sign"><code>.sign</code></a></h1>
<p>Computes a given number’s sign.
Takes input of a number \(x\) and returns:</p>
<ul>
<li>1 if \(x &gt; 0\)</li>
<li>0 if \(x = 0\)</li>
<li>-1 if \(x &lt; 0\)</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sub"><a class="header" href="#sub"><code>.sub</code></a></h1>
<p>Takes two numbers, subtracts the second from the first and returns the result.</p>
<pre><code class="language-emblem">.sub{4}{25} // Returns -21
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="miscellaneous-directives"><a class="header" href="#miscellaneous-directives">Miscellaneous Directives</a></h1>
<p>The directives in this section didn’t neatly fit into any of the other sections.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="curr-version"><a class="header" href="#curr-version"><code>.curr-version</code></a></h1>
<p>When developing documents and iterating through multiple cycles of drafting and improvements, it is possible that multiple versions of the same document may be in close proximity, thus leading to some confusion.
This can be avoided by adding some indication of the document’s version in the output.</p>
<p>The <code>.curr-version</code> directive does this my making use of the between-run store.</p>
<h2 id="example----placing-the-version-in-the-title"><a class="header" href="#example----placing-the-version-in-the-title">Example -- Placing the version in the title</a></h2>
<pre><code class="language-emblem"># Research, Re: Search and Re-Search (version .curr-version)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="help"><a class="header" href="#help"><code>.help</code></a></h1>
<p>When the user is unsure of how to use a directive, they can get some assistance by calling the <code>.help</code> directive.
This takes input of a directive-name, and returns a some associated help-text.
It should be noted that the preceding <code>.</code> from the directive name is omitted.</p>
<h2 id="example----getting-the-help-of-the-help-function"><a class="header" href="#example----getting-the-help-of-the-help-function">Example -- Getting the help of the help function</a></h2>
<p>Even the <code>.help</code> directive can be input into <code>.help</code></p>
<pre><code class="language-emblem">.help: help // Returns ‘Show documentation for a given directive’ (or there-abouts)
</code></pre>
<h2 id="example----getting-all-help"><a class="header" href="#example----getting-all-help">Example -- Getting all help</a></h2>
<p>The following will iterate through all <a href="directives/known-directives.html">known directives</a>, outputting their help text to the command-line.</p>
<pre><code class="language-emblem">.foreach{d}{.known-directives}:
	.echo: .help: !d
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="known-directives"><a class="header" href="#known-directives"><code>.known-directives</code></a></h1>
<p>This function outputs a list of known directives.
Currently, this list contains only directives for which a function has been defined, however in future this will be expanded to cover all directives which have associated styling information.
This list is also sorted in alphabetical order for convenience.</p>
<h2 id="example----getting-all-help-1"><a class="header" href="#example----getting-all-help-1">Example -- Getting all help</a></h2>
<p>The following will iterate through all known directives, outputting their <a href="directives/help.html">help text</a> to the command-line.</p>
<pre><code class="language-emblem">.foreach{d}{.known-directives}:
	.echo: .help: !d
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vars"><a class="header" href="#vars"><code>.vars</code></a></h1>
<p>Variables in Emblem exist within a given scope.
The <code>.vars</code> directive returns a list of these scopes and the variables which they contain at the time of calling.
This may be useful for debugging.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="readline"><a class="header" href="#readline"><code>.readline</code></a></h1>
<p>The <code>.readline</code> directive reads a single line from standard input and returns it.</p>
<h2 id="example----interacting-with-a-user"><a class="header" href="#example----interacting-with-a-user">Example -- Interacting with a user</a></h2>
<p>As <code>stdin</code> is read, the <code>.readline</code> directive can be used to interact with a user.</p>
<pre><code class="language-emblem">.echo: Ahoy there! What’s yer name?
!resp &lt;- .readline
.echo: Ahoy there, !resp
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id=""><a class="header" href="#"><code>.$</code></a></h1>
<p>Emblem allows the user to run arbitrary shell commands with use of the <code>.$</code> or ‘system’ directive.
As the command it takes is run externally, there are two problems:</p>
<ol>
<li>The command given to the system directive has no guarantee of portability</li>
<li>This directive has all the security risks associated with random code execution so <strong>be careful when executing someone else’s source code</strong>.
This can be alleviated by use of <a href="directives/../generated/command-line-args.html#-s---sandbox-level">sandboxing</a>.</li>
</ol>
<p>The system directive is given the <code>.$</code> name for visual similarity to a terminal when used.</p>
<h2 id="example----listing-files-in-the-current-directory"><a class="header" href="#example----listing-files-in-the-current-directory">Example -- Listing files in the current directory</a></h2>
<p>Using the standard UNIX <a href="https://www.wikiwand.com/en/Ls"><code>ls</code></a> program, we can see the contents of the current directory:</p>
<pre><code class="language-emblem">.$: ls
</code></pre>
<!-- ## Example -- Counting the number of unique words in a passage of text -->
<!-- As the optional second argument to `.$` is text to pass into a pipe, it is possible to encode all interactions with a sub-process in an Emblem document. -->
<!-- The following pipeline will move all words in the supplied text into individual lines ([`tr`][tr]), remove almost all non-alphabetic characters such as punctuation ([`grep`][grep]), performs a [`sort`][sort] on them, filter the resultant list so it only contains unique entries ([`uniq`][uniq]) before finally performing a word-count ([`wc`][wc]). -->
<!-- ```emblem -->
<!-- .${tr " " '\\n' | grep -o '[a-zA-Z-]' | sort | uniq -i | wc -w}: -->
<pre><code>&lt;!-- Hello, this is some text which may contain repeated words. --&gt;
&lt;!-- We wonder how long it is, but we we’d rather know now many repeated words the text might contain. --&gt;
</code></pre>
<!-- ``` -->
<div style="break-before: page; page-break-before: always;"></div><h1 id="env"><a class="header" href="#env"><code>.env</code></a></h1>
<p>The <code>.env</code> directive provides a way to read external environment variables.
It takes input of an environment variable name and returns its value.
If the environment variable does not exist, the empty string is returned.</p>
<h2 id="example----getting-the-name-of-the-users-editor"><a class="header" href="#example----getting-the-name-of-the-users-editor">Example -- Getting the name of the user’s editor</a></h2>
<p>On Linux, it is common to record the name of the user’s text editor in <code>EDITOR</code> environment variable.
This can be accessed within an Emblem document as follows.</p>
<pre><code class="language-emblem">.env: EDITOR // May or may not return ‘vim’
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="api"><a class="header" href="#api">API</a></h1>
<p>Interactions with Emblem come in three categories, each of which is handled in this section.</p>
<ul>
<li>Document-writers from the <a href="./generated/command-line-args.html">command-line</a></li>
<li>Extension-writers through the <a href="./extension-api.html">Moonscript/Lua API</a></li>
<li>Developers of the <a href="./internal-api.html">core</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="command-line-api"><a class="header" href="#command-line-api">Command-line API</a></h1>
<p>Takes input of a markdown-like document, processes it and typesets it before passing the result to a driver for outputting in some format. Extensions can be used to include arbitrary functionality; device drivers are also extensions.</p>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<pre><code class="language-bash">em -Tutf8 example.em
em hello
</code></pre>
<h2 id="positional-arguments"><a class="header" href="#positional-arguments">Positional arguments</a></h2>
<p>The following arguments are written anywhere in the call to <code>em</code> (after the program name itself).</p>
<h3 id="file"><a class="header" href="#file"><code>file</code></a></h3>
<p>File to typeset or <code>-</code> to read from stdin.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘-’</li>
</ul>
<h2 id="optional-arguments"><a class="header" href="#optional-arguments">Optional arguments</a></h2>
<p>The following are used to modify the behaviour of Emblem, to suit a user’s preferences.</p>
<h3 id="-a-extensionparamvalue---ext-arg-extensionparamvalue"><a class="header" href="#-a-extensionparamvalue---ext-arg-extensionparamvalue"><code>-a extension.param=value</code>, <code>--ext-arg extension.param=value</code></a></h3>
<p>Pass parameter <em>param</em> with value <em>value</em> to extension <em>ext</em>.</p>
<ul>
<li><strong>type</strong>: List</li>
</ul>
<h3 id="-c-style---class-style"><a class="header" href="#-c-style---class-style"><code>-c style</code>, <code>--class style</code></a></h3>
<p>Set the output class.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘” DATA_DIR “/article’</li>
</ul>
<h3 id="-c---colourise-output"><a class="header" href="#-c---colourise-output"><code>-C</code>, <code>--colourise-output</code></a></h3>
<p>Specify output colourisation, -1 for none, 1 for always, 0 for auto-detect (default is 0).</p>
<ul>
<li><strong>type</strong>: int</li>
<li><strong>default</strong>: 0</li>
</ul>
<h3 id="-e---fatal-warnings"><a class="header" href="#-e---fatal-warnings"><code>-E</code>, <code>--fatal-warnings</code></a></h3>
<p>Treat warnings as errors.</p>
<ul>
<li><strong>type</strong>: flag</li>
</ul>
<h3 id="-f-driver---from-driver"><a class="header" href="#-f-driver---from-driver"><code>-F driver</code>, <code>--from driver</code></a></h3>
<p>Set the input driver, if none is specified, the emblem parser is used.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘’</li>
</ul>
<h3 id="-f-family---font-family-family"><a class="header" href="#-f-family---font-family-family"><code>-f family</code>, <code>--font-family family</code></a></h3>
<p>Specify a default font family.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘’</li>
</ul>
<h3 id="-h---help"><a class="header" href="#-h---help"><code>-h</code>, <code>--help</code></a></h3>
<p>Display this help message and exit.</p>
<ul>
<li><strong>type</strong>: help</li>
</ul>
<h3 id="-m---max-iters"><a class="header" href="#-m---max-iters"><code>-M</code>, <code>--max-iters</code></a></h3>
<p>Max number of typesetting iterations allowed.</p>
<ul>
<li><strong>type</strong>: int</li>
<li><strong>default</strong>: 4</li>
</ul>
<h3 id="-o-stem---output-to-stem"><a class="header" href="#-o-stem---output-to-stem"><code>-o stem</code>, <code>--output-to stem</code></a></h3>
<p>Name of the output file without file-extension. If left unspecified the input file (with its extension removed) is used, otherwise <em>emdoc</em>.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘’</li>
</ul>
<h3 id="-s-size---font-size-size"><a class="header" href="#-s-size---font-size-size"><code>-S size</code>, <code>--font-size size</code></a></h3>
<p>Specify the default font size.</p>
<ul>
<li><strong>type</strong>: double</li>
<li><strong>default</strong>: 0</li>
</ul>
<h3 id="-s---sandbox-level"><a class="header" href="#-s---sandbox-level"><code>-s</code>, <code>--sandbox-level</code></a></h3>
<p>Restrict access to the system, <em>0</em> makes no restrictions, <em>1</em> restricts creation of new subprocesses, <em>2</em> restricts uses all level <em>1</em> restrictions and prevents file system access. Default is <em>1</em>.</p>
<ul>
<li><strong>type</strong>: int</li>
<li><strong>default</strong>: 1</li>
</ul>
<h3 id="-t-driver---to-driver"><a class="header" href="#-t-driver---to-driver"><code>-T driver</code>, <code>--to driver</code></a></h3>
<p>Set the output driver, default is <em>html</em>.</p>
<ul>
<li><strong>type</strong>: string</li>
<li><strong>default</strong>: ‘html’</li>
</ul>
<h3 id="-t---tab-size"><a class="header" href="#-t---tab-size"><code>-t</code>, <code>--tab-size</code></a></h3>
<p>The assumed size of tabs when reading input files.</p>
<ul>
<li><strong>type</strong>: int</li>
<li><strong>default</strong>: 4</li>
</ul>
<h3 id="-v-verbosity---verbose-verbosity"><a class="header" href="#-v-verbosity---verbose-verbosity"><code>-v verbosity</code>, <code>--verbose verbosity</code></a></h3>
<p>Set output verbosity, <em>3</em> outputs everything, <em>0</em> suppresses all messages including errors. Default is <em>1</em>.</p>
<ul>
<li><strong>type</strong>: int</li>
<li><strong>default</strong>: 1</li>
</ul>
<h3 id="-v---version"><a class="header" href="#-v---version"><code>-V</code>, <code>--version</code></a></h3>
<p>Display version and license information and exit.</p>
<ul>
<li><strong>type</strong>: version</li>
</ul>
<h3 id="-x-extension---extension-extension"><a class="header" href="#-x-extension---extension-extension"><code>-x extension</code>, <code>--extension extension</code></a></h3>
<p>Specify an extension to load. When used multiple times, the specified extensions are loaded in the order given.</p>
<ul>
<li><strong>type</strong>: List</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="moonscriptlua-extension-api"><a class="header" href="#moonscriptlua-extension-api">Moonscript/Lua Extension API</a></h1>
<p>Emblem is hackable, that is, arbitrary functionality may be added by its users.
This is done in one of three ways:</p>
<ol>
<li>In code executed as the document goes through its typesetting cycle (‘extensions’)</li>
<li>In code executed to convert a given input format to Emblem’s internal structures (‘input drivers’)</li>
<li>In code executed to convert to a given output format (‘output drivers’)</li>
</ol>
<p>In this section, we will explore the Emblem standard library, <code>std.*</code>:</p>
<ul>
<li><a href="generated/ext/lib/std/ast.moon.html"><code>std.ast</code></a></li>
<li><a href="generated/ext/lib/std/base.moon.html"><code>std.base</code></a></li>
<li><a href="generated/ext/lib/std/bib.moon.html"><code>std.bib</code></a></li>
<li><a href="generated/ext/lib/std/constants.moon.html"><code>std.constants</code></a></li>
<li><a href="generated/ext/lib/std/events.moon.html"><code>std.events</code></a></li>
<li><a href="generated/ext/lib/std/func.moon.html"><code>std.func</code></a></li>
<li><a href="generated/ext/lib/std/hdr.moon.html"><code>std.hdr</code></a></li>
<li><a href="modules/moon/std.in.html"><code>std.in.*</code></a></li>
<li><a href="generated/ext/lib/std/lingo.moon.html"><code>std.lingo</code></a></li>
<li><a href="generated/ext/lib/std/log.moon.html"><code>std.log</code></a></li>
<li><a href="modules/moon/std.out.html"><code>std.out.*</code></a></li>
<li><a href="generated/ext/lib/std/ref.moon.html"><code>std.ref</code></a></li>
<li><a href="generated/ext/lib/std/show.moon.html"><code>std.show</code></a></li>
<li><a href="generated/ext/lib/std/store.moon.html"><code>std.store</code></a></li>
<li><a href="generated/ext/lib/std/style.moon.html"><code>std.style</code></a></li>
<li><a href="generated/ext/lib/std/util.moon.html"><code>std.util</code></a></li>
</ul>
<!-- - [`std.edit`](generated/ext/lib/std/edit.moon.md) -->
<hr />
<h2 id="typesetting-time-extensions"><a class="header" href="#typesetting-time-extensions">Typesetting-time extensions</a></h2>
<p>Typesetting-time extensions, hereafter referred to simply as ‘extensions,’ are snippets of <a href="https://www.lua.org">Lua</a> code which are imported after the document has been parsed and are executed as it undergoes its typesetting run.</p>
<h3 id="emblem-public-table"><a class="header" href="#emblem-public-table">Emblem Public Table</a></h3>
<p>Extensions can define functions to be accessed in the document by editing the Emblem Public Table stored in the <code>em</code> variable.
For example, we may wish create a document which includes a note of how long it took to compile.
To do this, we must create a function which creates the desired string, and place it into some field in the <code>em</code> table, say <code>cpu_time_used</code></p>
<pre><code class="language-lua">em.cpu_time_used = function()
	return 'This document was typeset in ' .. os.clock() .. ' seconds of CPU time'
end
</code></pre>
<p>If this code is written in a file called <code>cpu-time.lua</code>, it can be imported by adding the flag <code>-fcpu-time</code> when <code>em</code> is run (note the file extension is optional).
Now, when the directive <code>.cpu_time_used</code> is seen in the document, the above code will be executed, it will be replaced with the message.</p>
<h3 id="evaluation-order"><a class="header" href="#evaluation-order">Evaluation Order</a></h3>
<p>Emblem is lazy, that is, it tries to do no more work than is necessary to typeset a document.
So for example, if a directive takes three inputs and just outputs the first one, emblem will not bother to evaluate the others.
This is because by default, Emblem will only evaluate a node if it can guarantee that it will appear in the output.</p>
<p>Sometimes, however, it can be useful to force Emblem to use a different evaluation order, such as to inspect the results which would not otherwise appear directly in the output.
This can be done using the <code>eval</code> function, which takes a node and evaluates it, or the <code>eval_string</code> function which
Evaluation order is manipulated in the definition of the <code>.if</code> directive, which looks something like the following:</p>
<pre><code class="language-lua">local base = require('std.base')
base.em['if'] = function(c, b)
	cs = base.eval_string(c)
	if cs == '' or cs == '0' or string.lower(cs) == 'false' then
		return nil
	else
		return b
	end
end
</code></pre>
<p>Here, although input <code>c</code> is never present in what is returned, by calling <code>eval_string</code> upon it we can reason about it.</p>
<h3 id="events"><a class="header" href="#events">Events</a></h3>
<p>To help extensions react to how the document is being processed, there are several events which are triggered.
These are triggered on objects which extend the <code>Component</code> class defined in the <code>std.base</code> module and are as follows.</p>
<ol>
<li><code>on_start</code>, executed once after all extensions are loaded</li>
<li><code>on_iter_start</code>, executed at the start of each iteration</li>
<li><code>on_iter_end</code>, executed at the end of each iteration</li>
<li><code>on_end</code>, executed once, after the final iteration but before output</li>
</ol>
<p>There are a number of classes which may be imported from the <code>std.std</code> module which provide frameworks for storing data whilst reacting to these events.
For example, the table of contents is a subclass of <code>Component</code> which stores the names and numbers of headings as the document is processed, requesting another run if the table of contents at the end of the previous run is different to that at the end of the current (e.g. a page-number has been updated by some other change).</p>
<p>A re-iteration can be requested by calling the <code>requires_reiter</code> function in <a href="https://www.lua.org">Lua</a>.
This will cause the typesetting loop to be run again, unless the (user-configurable) number of maximum iterations has been reached.
The number of the current iteration (starting from 1) is accessible through the <code>em_iter</code> variable.</p>
<h2 id="input-drivers"><a class="header" href="#input-drivers">Input Drivers</a></h2>
<p>Emblem can take input of any format for which it has an input driver.
When Emblem inputs a file through the <code>.include</code> directive, a language can optionally be specified in the second parameter to determine the parser to use.
This language is used to look up the parser to use in the <code>std.in.drivers.known_languages</code> table.
An input driver is simply a module which adds at least one parser function into this table.</p>
<h2 id="output-drivers"><a class="header" href="#output-drivers">Output Drivers</a></h2>
<p>Emblem is capable of outputting to any format for which it has an output driver.
The binary itself contains some output drivers, but it is also possible to import ones from other sources as desired.
In analogy with <a href="extension-api.html#input-drivers">input drivers</a>, there exists a table, <code>std.out.drivers.output_drivers</code>, which is used when looking up the language into which the document will be output.
An output driver is simply module which adds at least one outputting function into this table.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdast"><a class="header" href="#stdast"><code>std.ast</code></a></h1>
<p>Provides an interface for constructing Emblem document nodes.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/ast.moon">Source file</a></p>
<h2 id="mkcall"><a class="header" href="#mkcall"><code>mkcall</code></a></h2>
<p>Make a function which constructs a call to a given directive.</p>
<ul>
<li><strong>Param</strong> <code>Name</code>: of the directive to call</li>
</ul>
<p><strong>Returns</strong>: A function which takes arguments and returns a call upon those arguments</p>
<pre><code class="language-moon">mkcall = (name) -&gt; (args) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdbase"><a class="header" href="#stdbase"><code>std.base</code></a></h1>
<p>Provides the base library for use with extensions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/base.moon">Source file</a></p>
<h2 id="close_var_scope"><a class="header" href="#close_var_scope"><code>close_var_scope</code></a></h2>
<p>Closes the most recently-opened variable scope.</p>
<pre><code class="language-moon">close_var_scope = -&gt; ...
</code></pre>
<h2 id="copy_loc"><a class="header" href="#copy_loc"><code>copy_loc</code></a></h2>
<p>Copy a source-code location.</p>
<p><strong>Returns</strong>: A copy of the current source code location</p>
<pre><code class="language-moon">copy_loc = -&gt; ...
</code></pre>
<h2 id="em_loc"><a class="header" href="#em_loc"><code>em_loc</code></a></h2>
<p>Get the current location in the source code.</p>
<p><strong>Returns</strong>: A pointer to the current source location</p>
<pre><code class="language-moon">em_loc = -&gt; ...
</code></pre>
<h2 id="eval_string"><a class="header" href="#eval_string"><code>eval_string</code></a></h2>
<p>Evaluates a node pointer and extracts the text contained in and below it.</p>
<ul>
<li><strong>Param</strong> <code>d</code>: The userdata pointer to evaluate and extract from</li>
</ul>
<p><strong>Returns</strong>: A string which represents all text at and beneath <em>d</em></p>
<pre><code class="language-moon">eval_string = (d) -&gt; ...
</code></pre>
<h2 id="get_var"><a class="header" href="#get_var"><code>get_var</code></a></h2>
<p>Gets the value of a given variable, if the variable name starts with <em>n</em> &gt; 0 exclamation marks, then that many possible matches are skipped while searching from the innermost scope.</p>
<ul>
<li><strong>Param</strong> <code>rn</code>: The raw variable name as a string or core pointer</li>
<li><strong>Param</strong> <code>d</code>: An optional default value to return if <code>rn</code> does not exist</li>
</ul>
<p><strong>Returns</strong>: The value of variable <code>rn</code> in the current scope otherwise <code>d</code></p>
<pre><code class="language-moon">get_var = (rn, d) -&gt; ...
</code></pre>
<h2 id="is_instance"><a class="header" href="#is_instance"><code>is_instance</code></a></h2>
<p>Tests whether an object is an instance of a given class.</p>
<ul>
<li><strong>Param</strong> <code>cls</code>: The class to test, may be a class name or a class itself</li>
<li><strong>Param</strong> <code>obj</code>: The object to test</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> if <code>obj</code> is an instance of a sub-class of <code>cls</code>, otherwise <code>false</code></p>
<pre><code class="language-moon">is_instance = (cls, obj) -&gt; ...
</code></pre>
<h2 id="iter_num"><a class="header" href="#iter_num"><code>iter_num</code></a></h2>
<p>Returns the number of the current iteration of the typesetting loop (starts at 1).</p>
<p><strong>Returns</strong>: The number of times the typesetting loop has been started this run</p>
<pre><code class="language-moon">iter_num = -&gt; ...
</code></pre>
<h2 id="node_string"><a class="header" href="#node_string"><code>node_string</code></a></h2>
<p>Extracts the text beneath a given node.</p>
<ul>
<li><strong>Param</strong> <code>n</code>: The node to convert into a string, must be a table</li>
</ul>
<p><strong>Returns</strong>: The text stored at and under the given node</p>
<pre><code class="language-moon">node_string = (n) -&gt; ...
</code></pre>
<h2 id="open_var_scope"><a class="header" href="#open_var_scope"><code>open_var_scope</code></a></h2>
<p>Opens a new variable scope.</p>
<pre><code class="language-moon">open_var_scope = -&gt; ...
</code></pre>
<h2 id="set_var"><a class="header" href="#set_var"><code>set_var</code></a></h2>
<p>Set a variable to a given value, if the variable name starts with <em>n</em> &gt; 0 exclamation marks, then a search is performed to set the <em>n</em>-th variable with the same name in found whilst searching parent scopes.</p>
<ul>
<li><strong>Param</strong> <code>n</code>: The name of the variable (string or code pointer)</li>
<li><strong>Param</strong> <code>v</code>: The value to set (not changed by this operation)</li>
<li><strong>Param</strong> <code>surrounding_scope</code>: If set to true, search is bumped up one scope (useful for the .set-var directive which would otherwise have the set value swallowed in its own scope)</li>
</ul>
<pre><code class="language-moon">set_var = (n, v, surrounding_scope=false, search=false) -&gt; ...
</code></pre>
<h2 id="set_var_string"><a class="header" href="#set_var_string"><code>set_var_string</code></a></h2>
<p>Set a given variable to a given value as a string.</p>
<ul>
<li><strong>Param</strong> <code>n</code>: Variable name as for <code>set_var</code></li>
<li><strong>Param</strong> <code>v</code>: Value to evaluate then set to <em>n</em></li>
<li><strong>Param</strong> <code>w</code>: Scope widening paramerer as for <code>set_var</code></li>
</ul>
<pre><code class="language-moon">set_var_string = (n, v, ...) -&gt; ...
</code></pre>
<h2 id="wrap_indices"><a class="header" href="#wrap_indices"><code>wrap_indices</code></a></h2>
<p>Wrap the __get and __set methods into the __index and __newindex methods if available.</p>
<ul>
<li><strong>Param</strong> <code>object</code>: (table) to wrap</li>
</ul>
<p><strong>Returns</strong>: nil</p>
<pre><code class="language-moon">wrap_indices = =&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdbib"><a class="header" href="#stdbib"><code>std.bib</code></a></h1>
<p>Provides bibliographies and citations.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/bib.moon">Source file</a></p>
<h2 id="get_cite_style"><a class="header" href="#get_cite_style"><code>get_cite_style</code></a></h2>
<p>Get the current citation style.</p>
<p><strong>Returns</strong>: The current citation style</p>
<pre><code class="language-moon">get_cite_style = -&gt; ...
</code></pre>
<h2 id="set_cite_style"><a class="header" href="#set_cite_style"><code>set_cite_style</code></a></h2>
<p>Set the current citation style to a given style.</p>
<ul>
<li><strong>Param</strong> <code>style</code>: The new current citation style</li>
</ul>
<pre><code class="language-moon">set_cite_style = (style) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdedit"><a class="header" href="#stdedit"><code>std.edit</code></a></h1>
<p>Provides functions to compute and interpret edit distance.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/edit.moon">Source file</a></p>
<h2 id="closest"><a class="header" href="#closest"><code>closest</code></a></h2>
<p>Find the closest string to a given one from a list of strings.</p>
<ul>
<li><strong>Param</strong> <code>s</code>: A source string</li>
<li><strong>Param</strong> <code>ts</code>: A list of strings</li>
</ul>
<p><strong>Returns</strong>: The <em>t</em> in <code>ts</code> which is closest to <code>s</code></p>
<pre><code class="language-moon">closest = (s, ts) -&gt; ...
</code></pre>
<h2 id="edit_distance"><a class="header" href="#edit_distance"><code>edit_distance</code></a></h2>
<p>Compute the edit distance between two strings.</p>
<ul>
<li><strong>Param</strong> <code>u</code>: A string</li>
<li><strong>Param</strong> <code>v</code>: Another string</li>
</ul>
<p><strong>Returns</strong>: The edit distance between <code>u</code> and <code>v</code></p>
<pre><code class="language-moon">edit_distance = (u, v) -&gt; ...
</code></pre>
<h2 id="unknown_x_msg"><a class="header" href="#unknown_x_msg"><code>unknown_x_msg</code></a></h2>
<p>Create a suggestion message when an incorrect value was supplied which should have been in a list of options.</p>
<ul>
<li><strong>Param</strong> <code>x</code>: The name of the type of <code>v</code></li>
<li><strong>Param</strong> <code>v</code>: The incorrect value given</li>
<li><strong>Param</strong> <code>vs</code>: The list of valid values of which <code>v</code> should have been a member</li>
</ul>
<p><strong>Returns</strong>: A user-friendly message which suggests the <code>u</code> in <code>vs</code> which is closest to <code>v</code> if it is not too distant</p>
<pre><code class="language-moon">unknown_x_msg = (x, v, vs) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdevents"><a class="header" href="#stdevents"><code>std.events</code></a></h1>
<p>Prpvides functionality for responding to typesetting events.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/events.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdexpr"><a class="header" href="#stdexpr"><code>std.expr</code></a></h1>
<p>Provides a framework for evaluating expressions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-25</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/expr.moon">Source file</a></p>
<h2 id="expr-1"><a class="header" href="#expr-1"><code>expr</code></a></h2>
<p>Takes a string (or document pointer), parses it and evaluates it as an expression.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: The text to parse and evaluate</li>
</ul>
<p><strong>Returns</strong>: An integer which was evaluated from the expression represented by <code>str</code> or nil on failure</p>
<pre><code class="language-moon">expr = (s) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdfunc"><a class="header" href="#stdfunc"><code>std.func</code></a></h1>
<p>Provides functional abstractions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/func.moon">Source file</a></p>
<h2 id="co_to_list"><a class="header" href="#co_to_list"><code>co_to_list</code></a></h2>
<p>Creates a list from the values yielded from a coroutine.</p>
<ul>
<li><strong>Param</strong> <code>c</code>: Coroutine from which to extract values</li>
</ul>
<p><strong>Returns</strong>: A list of values returned from <code>c</code></p>
<pre><code class="language-moon">co_to_list = (c) -&gt; ...
</code></pre>
<h2 id="co_to_table"><a class="header" href="#co_to_table"><code>co_to_table</code></a></h2>
<p>Constructs a table from a coroutine which yields {k,v} pairs.</p>
<ul>
<li><strong>Param</strong> <code>c</code>: Coroutine from which to extract kv-pairs</li>
</ul>
<p><strong>Returns</strong>: A table <code>t</code> such that for each <code>{k,v}</code> yielded from <code>c</code>, <code>t\[k]</code> = <code>v</code></p>
<pre><code class="language-moon">co_to_table = (c) -&gt; ...
</code></pre>
<h2 id="do_nothing"><a class="header" href="#do_nothing"><code>do_nothing</code></a></h2>
<p>A function which does nothing.</p>
<pre><code class="language-moon">do_nothing = -&gt; ...
</code></pre>
<h2 id="filter"><a class="header" href="#filter"><code>filter</code></a></h2>
<p>Creates a coroutine whihc filters the values of a coroutine by a predicate.</p>
<ul>
<li><strong>Param</strong> <code>p</code>: A predicate</li>
<li><strong>Param</strong> <code>es</code>: A coroutine which yields values to be filtered</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields the values of <code>e</code> of <code>es</code> which satisfy <code>p(e)</code> in the order they are yielded from <code>es</code></p>
<pre><code class="language-moon">filter = (p, es) -&gt; ...
</code></pre>
<h2 id="filter_list"><a class="header" href="#filter_list"><code>filter_list</code></a></h2>
<p>Returns a list of values of a given list which satisfy a predicate.</p>
<ul>
<li><strong>Param</strong> <code>p</code>: A predicate</li>
<li><strong>Param</strong> <code>es</code>: A list of values</li>
</ul>
<p><strong>Returns</strong>: A list of elements <code>e</code> of <code>es</code> which satisfy <code>p(e)</code></p>
<pre><code class="language-moon">filter_list = (p, es) -&gt; ...
</code></pre>
<h2 id="id"><a class="header" href="#id"><code>id</code></a></h2>
<p>Identity function, takes a value and returns it.</p>
<ul>
<li><strong>Param</strong> <code>x</code>: Value to return</li>
</ul>
<p><strong>Returns</strong>: <code>x</code></p>
<pre><code class="language-moon">id = (x) -&gt; ...
</code></pre>
<h2 id="int"><a class="header" href="#int"><code>int</code></a></h2>
<p>Creates a coroutine which yields the integers.</p>
<p><strong>Returns</strong>: a coroutine which yields the integers</p>
<pre><code class="language-moon">int = -&gt; ...
</code></pre>
<h2 id="key_list"><a class="header" href="#key_list"><code>key_list</code></a></h2>
<p>Construct a list of keys from a table.</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A table from which to extract keys</li>
</ul>
<p><strong>Returns</strong>: A list of keys in <code>t</code></p>
<pre><code class="language-moon">key_list = (t) -&gt; ...
</code></pre>
<h2 id="keys"><a class="header" href="#keys"><code>keys</code></a></h2>
<p>Creates a coroutine which yields the keys of a table.</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A table from which to extract keys</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields the keys of <code>t</code></p>
<pre><code class="language-moon">keys = (t) -&gt; ...
</code></pre>
<h2 id="kv_pairs"><a class="header" href="#kv_pairs"><code>kv_pairs</code></a></h2>
<p>Creates a coroutine which yields {k,v} pairs of a table.</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A table from which to extract key-value pairs</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields the kv-pairs of <code>t</code></p>
<pre><code class="language-moon">kv_pairs = (t) -&gt; ...
</code></pre>
<h2 id="map"><a class="header" href="#map"><code>map</code></a></h2>
<p>Maps the values yielded by a coroutine with a given function.</p>
<ul>
<li><strong>Param</strong> <code>f</code>: The mapping function</li>
<li><strong>Param</strong> <code>es</code>: The values to map</li>
</ul>
<p><strong>Returns</strong>: a coroutine which yields values <code>f(e)</code> for each <code>e</code> yielded from <code>es</code></p>
<pre><code class="language-moon">map = (f, es) -&gt; ...
</code></pre>
<h2 id="nat"><a class="header" href="#nat"><code>nat</code></a></h2>
<p>Creates a coroutine which yields the natural numbers.</p>
<p><strong>Returns</strong>: A coroutine which yields the natural numbers</p>
<pre><code class="language-moon">nat = -&gt; ...
</code></pre>
<h2 id="seq"><a class="header" href="#seq"><code>seq</code></a></h2>
<p>Creates a coroutine which yields the values of a sequence.</p>
<ul>
<li><strong>Param</strong> <code>first</code>: The first value of the sequence</li>
<li><strong>Param</strong> <code>last</code>: The last value of the sequence</li>
<li><strong>Param</strong> <code>step</code>: The difference between consecutive yielded values</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields values starting from <code>first</code>, in increments of <code>step</code> until <code>last</code> is reached</p>
<pre><code class="language-moon">seq = (first, last, step) -&gt; ...
</code></pre>
<h2 id="take"><a class="header" href="#take"><code>take</code></a></h2>
<p>Takes values from a coroutine whilst a predicate holds.</p>
<ul>
<li><strong>Param</strong> <code>p</code>: Predicate to check</li>
<li><strong>Param</strong> <code>es</code>: From which to take values</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields values <code>e</code> of <code>es</code> for which <code>p(e)</code> holds, until the first which does not (at which point the coroutine finishes</p>
<pre><code class="language-moon">take = (p, es) -&gt; ...
</code></pre>
<h2 id="value_list"><a class="header" href="#value_list"><code>value_list</code></a></h2>
<p>Construct a list of values in a table.</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A table from which to extract values</li>
</ul>
<p><strong>Returns</strong>: A list of the values in <code>v</code></p>
<pre><code class="language-moon">value_list = (t) -&gt; ...
</code></pre>
<h2 id="values"><a class="header" href="#values"><code>values</code></a></h2>
<p>Creates a coroutine which yields the values of a table.</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A table from which to extract values</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields the values of <code>t</code></p>
<pre><code class="language-moon">values = (t) -&gt; ...
</code></pre>
<h2 id="whole"><a class="header" href="#whole"><code>whole</code></a></h2>
<p>Creates a coroutine which yields whole numbers.</p>
<p><strong>Returns</strong>: A coroutine which yields the whole numbers</p>
<pre><code class="language-moon">whole = -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdhdr"><a class="header" href="#stdhdr"><code>std.hdr</code></a></h1>
<p>Provides headings and tables of contents.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/hdr.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdin"><a class="header" href="#stdin"><code>std.in/</code></a></h1>
<p>This module collection provides the machinery for defining and implementing the core set of input drivers.</p>
<p>Its most important file is <a href="modules/moon/../../generated/ext/lib/std/in/drivers.moon.html"><code>std.in.drivers</code></a>, which contains the code to handle parsing inputs and which defines some useful classes for input drivers.
All other modules in this module collection are implementations of input drivers which are always available when running Emblem.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdindrivers"><a class="header" href="#stdindrivers"><code>std.in.drivers</code></a></h1>
<p>Manages input drivers, heeps associations for mapping input languages to parsers, and file extensions to input languages.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/in/drivers.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdlingo"><a class="header" href="#stdlingo"><code>std.lingo</code></a></h1>
<p>Provides a rudamentary scripting language for use in documents.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/lingo.moon">Source file</a></p>
<h2 id="cond"><a class="header" href="#cond"><code>cond</code></a></h2>
<p>Takes input of value and evaluates it as a condition.</p>
<ul>
<li><strong>Param</strong> <code>c</code>: Lua value or core pointer to evaluate as a condition</li>
</ul>
<p><strong>Returns</strong>: false if <code>c</code> is <code>false</code> or is the empty string, ‘0’ or ‘false’ (case-insensitive), otherwise true</p>
<pre><code class="language-moon">cond = (c) -&gt; ...
</code></pre>
<h2 id="toint"><a class="header" href="#toint"><code>toint</code></a></h2>
<p>Converts a value to a condition integer (for a more compact representation.</p>
<ul>
<li><strong>Param</strong> <code>b</code>: A value to check</li>
</ul>
<p><strong>Returns</strong>: 0 if b is 0, the empty string, false or nil, otherwise 1</p>
<pre><code class="language-moon">toint = (b) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdlog"><a class="header" href="#stdlog"><code>std.log</code></a></h1>
<p>Provides logging functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/log.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdout"><a class="header" href="#stdout"><code>std.out/</code></a></h1>
<p>This module collection provides the machinery for defining and implementing the core set of output drivers.</p>
<p>Its most important file is <a href="modules/moon/../../generated/ext/lib/std/out/drivers.moon.html"><code>std.out.drivers</code></a>, which contains the code to translation to output formats and writing to files, and defines some useful classes for output drivers.
All other modules in this module collection are implementations of input drivers which are always available when running Emblem.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdoutbb"><a class="header" href="#stdoutbb"><code>std.out.bb</code></a></h1>
<p>Provides an output driver for <a href="https://www.bbcode.org">BBCode</a>.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/out/bb.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdoutdrivers"><a class="header" href="#stdoutdrivers"><code>std.out.drivers</code></a></h1>
<p>Provides a framework for handling and creating output drivers.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/out/drivers.moon">Source file</a></p>
<h2 id="get_output_driver"><a class="header" href="#get_output_driver"><code>get_output_driver</code></a></h2>
<p>Gets the current output driver.</p>
<p><strong>Returns</strong>: The current output driver</p>
<pre><code class="language-moon">get_output_driver = -&gt; ...
</code></pre>
<h2 id="set_output_driver"><a class="header" href="#set_output_driver"><code>set_output_driver</code></a></h2>
<p>Sets the current output driver.</p>
<ul>
<li><strong>Param</strong> <code>dname</code>: The name of the new output driver</li>
</ul>
<pre><code class="language-moon">set_output_driver = (dname) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdouthtml"><a class="header" href="#stdouthtml"><code>std.out.html</code></a></h1>
<p>Provides an output driver for <a href="https://developer.mozilla.org/en-US/docs/Web/HTML">HTML</a>.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/out/html.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdoutlatex"><a class="header" href="#stdoutlatex"><code>std.out.latex</code></a></h1>
<p>Provides an output driver for <a href="https://www.latex-project.org">LaTeX</a>.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/out/latex.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdoutmd"><a class="header" href="#stdoutmd"><code>std.out.md</code></a></h1>
<p>Provides an output driver for <a href="https://www.wikiwand.com/en/Markdown">markdown</a>.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-24</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/out/md.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdref"><a class="header" href="#stdref"><code>std.ref</code></a></h1>
<p>Implements the label-anchor-reference system for cross-referencing within documents.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/ref.moon">Source file</a></p>
<h2 id="get_label"><a class="header" href="#get_label"><code>get_label</code></a></h2>
<p>Get the label in the current context.</p>
<p><strong>Returns</strong>: The value of the label in the current context</p>
<pre><code class="language-moon">get_label = -&gt; ...
</code></pre>
<h2 id="set_label"><a class="header" href="#set_label"><code>set_label</code></a></h2>
<p>Set the current label.</p>
<ul>
<li><strong>Param</strong> <code>c</code>: The new label</li>
</ul>
<pre><code class="language-moon">set_label = (c) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdshow"><a class="header" href="#stdshow"><code>std.show</code></a></h1>
<p>Provides functions to show the values of lua-tables in more human-readible formats.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/show.moon">Source file</a></p>
<h2 id="show"><a class="header" href="#show"><code>show</code></a></h2>
<p>Construct a string-representation of an object.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: Value for which to construct a string-representation</li>
</ul>
<p><strong>Returns</strong>: A string representation of <code>v</code></p>
<pre><code class="language-moon">show = (v) -&gt; ...
</code></pre>
<h2 id="showp"><a class="header" href="#showp"><code>showp</code></a></h2>
<p>Construct a prettier string-representation of an object.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: Value for which to construct a string-representation</li>
</ul>
<p><strong>Returns</strong>: A string representation of <code>v</code> which is slightly prettier than that of <code>show</code>.</p>
<pre><code class="language-moon">showp = (v) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="stdstore"><a class="header" href="#stdstore"><code>std.store</code></a></h1>
<p>Allows values to be stored between executions of Emblem.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/store.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdstyle"><a class="header" href="#stdstyle"><code>std.style</code></a></h1>
<p>Provides wrappers for basic styling directives.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/style.moon">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stdutil"><a class="header" href="#stdutil"><code>std.util</code></a></h1>
<p>Provides miscellaneous utility functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lib/std/util.moon">Source file</a></p>
<h2 id="argmax"><a class="header" href="#argmax"><code>argmax</code></a></h2>
<p>Computes the argmax of a function over a set of values.</p>
<ul>
<li><strong>Param</strong> <code>f</code>: The function to compute</li>
<li><strong>Param</strong> <code>vs</code>: a list of values to test</li>
</ul>
<p><strong>Returns</strong>: The argmax of <code>f</code> over <code>vs</code>, that is the <em>v</em> in <code>vs</code> which maximises <code>f(v)</code>, also returns the value of <code>f(v)</code></p>
<pre><code class="language-moon">argmax = (f, vs) -&gt; ...
</code></pre>
<h2 id="argmin"><a class="header" href="#argmin"><code>argmin</code></a></h2>
<p>Computes the argmin of a function over a set of values.</p>
<ul>
<li><strong>Param</strong> <code>f</code>: The function to compute</li>
<li><strong>Param</strong> <code>vs</code>: a list of values to test</li>
</ul>
<p><strong>Returns</strong>: The argmin of <code>f</code> over <code>vs</code>, that is the <em>v</em> in <code>vs</code> which minimises <code>f(v)</code>, also returns the value of <code>f(v)</code></p>
<pre><code class="language-moon">argmin = (f, vs) -&gt; ...
</code></pre>
<h2 id="bool_to_int"><a class="header" href="#bool_to_int"><code>bool_to_int</code></a></h2>
<p>Converts a boolean value to an integer.</p>
<ul>
<li><strong>Param</strong> <code>b</code>: The value to check</li>
</ul>
<p><strong>Returns</strong>: true if <code>b</code> is considered true otherwise 0</p>
<pre><code class="language-moon">bool_to_int = (b) -&gt; ...
</code></pre>
<h2 id="char_at"><a class="header" href="#char_at"><code>char_at</code></a></h2>
<p>Returns a string representing the character at a given index.</p>
<ul>
<li><strong>Param</strong> <code>i</code>: The index to obtain</li>
<li><strong>Param</strong> <code>s</code>: The string from which to extract</li>
</ul>
<p><strong>Returns</strong>: A string which contains just the <code>i</code>-th character of <code>s</code></p>
<pre><code class="language-moon">char_at = (i, s) -&gt; ...
</code></pre>
<h2 id="chars"><a class="header" href="#chars"><code>chars</code></a></h2>
<p>Creates a coroutine which yields the characters of a string.</p>
<ul>
<li><strong>Param</strong> <code>s</code>: The string from which to yield</li>
</ul>
<p><strong>Returns</strong>: A coroutine which yields strings of length 1 which represent the individual characters of <code>s</code></p>
<pre><code class="language-moon">chars = (s) -&gt; ...
</code></pre>
<h2 id="elem"><a class="header" href="#elem"><code>elem</code></a></h2>
<p>Returns whether a value is an element of a list.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to check membership</li>
<li><strong>Param</strong> <code>vs</code>: A list of values to search</li>
</ul>
<p><strong>Returns</strong>: true if <code>v</code> is a value if <code>vs</code>, otherwise false</p>
<pre><code class="language-moon">elem = (v, vs) -&gt; ...
</code></pre>
<h2 id="eq"><a class="header" href="#eq"><code>eq</code></a></h2>
<p>Recursively computes the equality of two values.</p>
<ul>
<li><strong>Param</strong> <code>a</code>: A value to check</li>
<li><strong>Param</strong> <code>b</code>: A value to check</li>
</ul>
<p><strong>Returns</strong>: true if <code>a</code> and <code>b</code> are equal, otherwise false</p>
<pre><code class="language-moon">eq = (a,b) -&gt; ...
</code></pre>
<h2 id="extend"><a class="header" href="#extend"><code>extend</code></a></h2>
<p>Computes the result of extending a given list by other lists (pure).</p>
<ul>
<li><strong>Param</strong> <code>xs</code>: A list to extend</li>
<li><strong>Param</strong> <code>...</code>: Further lists</li>
</ul>
<p><strong>Returns</strong>: A list which is the concatenation of the lists passed, in the order passed.</p>
<pre><code class="language-moon">extend = (xs, ...) -&gt; ...
</code></pre>
<h2 id="is_list"><a class="header" href="#is_list"><code>is_list</code></a></h2>
<p>Returns whether a given value represents a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: The value to check</li>
</ul>
<p><strong>Returns</strong>: true if <code>l</code> is a list, otherwise false</p>
<pre><code class="language-moon">is_list = (l) -&gt; ...
</code></pre>
<h2 id="non_nil"><a class="header" href="#non_nil"><code>non_nil</code></a></h2>
<p>Returns whether a value is not nil.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: Value to check</li>
</ul>
<p><strong>Returns</strong>: true if <code>v</code> is not nil otherwise false</p>
<pre><code class="language-moon">non_nil = (v) -&gt; ...
</code></pre>
<h2 id="on_iter_wrap"><a class="header" href="#on_iter_wrap"><code>on_iter_wrap</code></a></h2>
<p>Wrap a given function so that it is only run on a particular typesetting iteration.</p>
<ul>
<li><strong>Param</strong> <code>f</code>: The function to wrap</li>
</ul>
<p><strong>Returns</strong>: A function which takes a number <em>n</em> and the parameters to <em>f</em> which when called will only execute <em>f</em> if the current typesetting loop iteration is equal to <em>n</em></p>
<pre><code class="language-moon">on_iter_wrap = (f) -&gt; (n, ...) -&gt; ...
</code></pre>
<h2 id="sorted"><a class="header" href="#sorted"><code>sorted</code></a></h2>
<p>Sort a list and then return it (impure).</p>
<ul>
<li><strong>Param</strong> <code>t</code>: A list to sort</li>
<li><strong>Param</strong> <code>...</code>: Further parameters to <code>table.sort</code></li>
</ul>
<p><strong>Returns</strong>: <code>t</code>, having been sorted in place</p>
<pre><code class="language-moon">sorted = (t, ...) -&gt; ...
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="c-api"><a class="header" href="#c-api">C API</a></h1>
<p>Following the C-style of headers and body files, this section of the docs follows the same partition between <a href="./internal-api-module-internals.html">module interfaces</a>, which correspond to files <code>*.h</code> in the source repo, and <a href="./internal-api-module-interfaces.html">module bodies</a>, which correspond to files <code>*.c</code>.
It must be noted that some of the files in this section of the docs do not directly exist in the source as they are auto-generated.
Some examples of this are the <a href="./generated/parser/emblem-lexer.h.html">lexer body</a> and <a href="./generated/parser/emblem-parser.h.html">parser body</a>, which is are generated from <a href="https://www.wikiwand.com/en/Flex_(lexical_analyser_generator)">Flex</a> and <a href="https://www.wikiwand.com/en/GNU_Bison">Bison</a> sources respectively.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="module-interfaces"><a class="header" href="#module-interfaces">Module interfaces</a></h1>
<p>This section details the interfaces exposed from each core module, that is, documentation present in files <code>*.h</code> in the <a href="https://github.com/TheSignPainter98/emblem/tree/master/src">repository</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data"><a class="header" href="#data"><code>data/</code></a></h1>
<p>Defines the generic data structures used to represent internal data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arrayh"><a class="header" href="#arrayh"><code>array.h</code></a></h1>
<p>Exposes functions for handling arrays, fixed-length composite data-structures, with elements accessible by index.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/array.h">Source file</a></p>
<h2 id="dest_arr"><a class="header" href="#dest_arr"><code>dest_arr</code></a></h2>
<p>Destroy an array object.</p>
<ul>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to destroy</li>
<li><strong>Param</strong> <code>ed</code>: Element destructor function or NULL</li>
</ul>
<pre><code class="language-c">void dest_arr(Array* arr, func_sig(void, ed, (void*)));
</code></pre>
<h2 id="dest_arr_iter"><a class="header" href="#dest_arr_iter"><code>dest_arr_iter</code></a></h2>
<p>Destror an array iterator.</p>
<ul>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to destroy</li>
</ul>
<pre><code class="language-c">void dest_arr_iter(ArrayIter* iter);
</code></pre>
<h2 id="get_arrv"><a class="header" href="#get_arrv"><code>get_arrv</code></a></h2>
<p>Get array value at a given index.</p>
<ul>
<li><strong>Param</strong> <code>ret</code>: Pointer to a Maybe type to populate with the result</li>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array containing the required value</li>
<li><strong>Param</strong> <code>idx</code>: Index of the array element to find</li>
</ul>
<pre><code class="language-c">void get_arrv(Maybe* ret, Array* arr, size_t idx);
</code></pre>
<h2 id="iter_arr"><a class="header" href="#iter_arr"><code>iter_arr</code></a></h2>
<p>Iterate once over an array.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: Pointer to the return value</li>
<li><strong>Param</strong> <code>iter</code>: Pointer to the array iterator to use</li>
</ul>
<p><strong>Returns</strong>: True iff a value was successfully written to <code>v</code>, false iff there were no elements left</p>
<pre><code class="language-c">bool iter_arr(void** v, ArrayIter* iter);
</code></pre>
<h2 id="make_arr"><a class="header" href="#make_arr"><code>make_arr</code></a></h2>
<p>Make an array object, a block of memory of finite length.</p>
<ul>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to initialise.</li>
<li><strong>Param</strong> <code>cnt</code>: Length of the array</li>
</ul>
<p><strong>Returns</strong>: True iff memory allocation was successful</p>
<pre><code class="language-c">bool make_arr(Array* arr, size_t cnt);
</code></pre>
<h2 id="make_arr_iter"><a class="header" href="#make_arr_iter"><code>make_arr_iter</code></a></h2>
<p>Make an array iterator.</p>
<ul>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to make</li>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to iterate over</li>
</ul>
<pre><code class="language-c">void make_arr_iter(ArrayIter* iter, Array* arr);
</code></pre>
<h2 id="set_arrv"><a class="header" href="#set_arrv"><code>set_arrv</code></a></h2>
<p>Set the value of an array at a particular index.</p>
<ul>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to modify</li>
<li><strong>Param</strong> <code>idx</code>: Index of the value to change</li>
<li><strong>Param</strong> <code>val</code>: Value to assign to arr[idx]</li>
</ul>
<p><strong>Returns</strong>: Returns true iff <code>idx</code> is a valid index of <code>arr</code></p>
<pre><code class="language-c">bool set_arrv(Array* arr, size_t idx, void* val);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cmph"><a class="header" href="#cmph"><code>cmp.h</code></a></h1>
<p>Exposes comparator functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/cmp.h">Source file</a></p>
<h2 id="cmp_sig"><a class="header" href="#cmp_sig"><code>CMP_SIG</code></a></h2>
<p>Compare float.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A float to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another float to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(float);
</code></pre>
<h2 id="cmp_sig-1"><a class="header" href="#cmp_sig-1"><code>CMP_SIG</code></a></h2>
<p>Compare strings.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A string to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another string to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(str);
</code></pre>
<h2 id="cmp_sig-2"><a class="header" href="#cmp_sig-2"><code>CMP_SIG</code></a></h2>
<p>Compare ints.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: An int to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another int to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(int);
</code></pre>
<h2 id="cmp_sig-3"><a class="header" href="#cmp_sig-3"><code>CMP_SIG</code></a></h2>
<p>Compare size_ts.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A size_t to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another size_t to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(size_t);
</code></pre>
<h2 id="cmp_sig-4"><a class="header" href="#cmp_sig-4"><code>CMP_SIG</code></a></h2>
<p>Compare doubles.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A double to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another double to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(double);
</code></pre>
<h2 id="cmp_sig-5"><a class="header" href="#cmp_sig-5"><code>CMP_SIG</code></a></h2>
<p>The signature of a comparator.</p>
<ul>
<li><strong>Param</strong> <code>name</code>: The name of the comparison functino</li>
</ul>
<p><strong>Returns</strong>: The signature of the comparison function for <code>name</code>s</p>
<pre><code class="language-c">#	define CMP_SIG(name) Cmp cmp_##name##s(void* v1, void* v2)
</code></pre>
<h2 id="cmp_sig-6"><a class="header" href="#cmp_sig-6"><code>CMP_SIG</code></a></h2>
<p>Compare characters.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A character to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another character to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(char);
</code></pre>
<h2 id="cmp_sig-7"><a class="header" href="#cmp_sig-7"><code>CMP_SIG</code></a></h2>
<p>Compare void pointer. This compares the numerical value of the pointers, not their content!</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A void pointer to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another void pointer to compare</li>
</ul>
<pre><code class="language-c">CMP_SIG(ptr);
</code></pre>
<h2 id="cmp"><a class="header" href="#cmp"><code>Cmp</code></a></h2>
<p>Type of a function which compares two values.</p>
<ul>
<li><strong>Param</strong> <code>v1</code>: A value to compare</li>
<li><strong>Param</strong> <code>v2</code>: Another value to compare</li>
</ul>
<p><strong>Returns</strong>: The comparison result of <code>v1</code> against <code>v2</code></p>
<pre><code class="language-c">typedef Cmp(fun Comparator)(void* v1, void* v2);
</code></pre>
<h2 id="streq"><a class="header" href="#streq"><code>streq</code></a></h2>
<p>Check if two C-strings are equal (to improve readability with strcmp).</p>
<ul>
<li><strong>Param</strong> <code>s</code>: Pointer to a string to check</li>
<li><strong>Param</strong> <code>t</code>: Pointer to a string to check</li>
</ul>
<p><strong>Returns</strong>: true if the strings are equal, false otherwise</p>
<pre><code class="language-c">bool streq(char const* s, char const* t);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dest-freeh"><a class="header" href="#dest-freeh"><code>dest-free.h</code></a></h1>
<p>Defines preprocessor rules for the creation of functions which destroy and then free memory of a given type.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/dest-free.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="destructorh"><a class="header" href="#destructorh"><code>destructor.h</code></a></h1>
<p>Provides type definition for destructors, functions responsible for finalising and freeing the memory of a given structure.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/destructor.h">Source file</a></p>
<h2 id="void"><a class="header" href="#void"><code>void</code></a></h2>
<p>Type of an object destructor.</p>
<ul>
<li><strong>Param</strong> <code>o</code>: Pointer to an object to destroy</li>
</ul>
<pre><code class="language-c">typedef void(fun Destructor)(void* o);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="eitherh"><a class="header" href="#eitherh"><code>either.h</code></a></h1>
<p>Exposes functions for processing Either objects, which can represent values of two types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/either.h">Source file</a></p>
<h2 id="dest_either"><a class="header" href="#dest_either"><code>dest_either</code></a></h2>
<p>Destroy an either-type object.</p>
<ul>
<li><strong>Param</strong> <code>e</code>: Pointer to the either object to destroy</li>
<li><strong>Param</strong> <code>led</code>: Element destructor for the left</li>
<li><strong>Param</strong> <code>red</code>: Element destructor for the right</li>
</ul>
<pre><code class="language-c">void dest_either(Either* e, Destructor led, Destructor red);
</code></pre>
<h2 id="fmap_either"><a class="header" href="#fmap_either"><code>fmap_either</code></a></h2>
<p>Fmap over either-type object.</p>
<ul>
<li><strong>Param</strong> <code>eo</code>: Output either type</li>
<li><strong>Param</strong> <code>ei</code>: Input Either type</li>
<li><strong>Param</strong> <code>f</code>: Function to apply to the contents of <code>ei</code> to produce <code>eo</code></li>
</ul>
<pre><code class="language-c">void fmap_either(Either* eo, Either* ei, Fmap f);
</code></pre>
<h2 id="make_either_left"><a class="header" href="#make_either_left"><code>make_either_left</code></a></h2>
<p>Construct an either-type object with the left constructor.</p>
<ul>
<li><strong>Param</strong> <code>e</code>: Pointer to the either object to initialise</li>
<li><strong>Param</strong> <code>left_val</code>: Value to place into the left constructor</li>
</ul>
<pre><code class="language-c">void make_either_left(Either* e, void* left_val);
</code></pre>
<h2 id="make_either_right"><a class="header" href="#make_either_right"><code>make_either_right</code></a></h2>
<p>Construct an either-type object with the right constructor.</p>
<ul>
<li><strong>Param</strong> <code>e</code>: Pointer to the either object to initialise</li>
<li><strong>Param</strong> <code>right_val</code>: Value to place into the right constructor</li>
</ul>
<pre><code class="language-c">void make_either_right(Either* e, void* right_val);
</code></pre>
<h2 id="succ_either"><a class="header" href="#succ_either"><code>succ_either</code></a></h2>
<p>Return whether a given either-type object represents a successful result.</p>
<ul>
<li><strong>Param</strong> <code>e</code>: Pointer to the either object to check</li>
</ul>
<p><strong>Returns</strong>: true if e uses the right constructor otherwise false</p>
<pre><code class="language-c">bool succ_either(Either* e);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="fmaph"><a class="header" href="#fmaph"><code>fmap.h</code></a></h1>
<p>Provides type definition for fmap functions, which allow computations on data <em>within</em> structures.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/fmap.h">Source file</a></p>
<h2 id="fmap"><a class="header" href="#fmap"><code>Fmap</code></a></h2>
<p>Type of a function which can be used in an fmap operation.</p>
<ul>
<li><strong>Param</strong> <code>o</code>: The value outputted by the fmap</li>
<li><strong>Param</strong> <code>i</code>: The unput value</li>
</ul>
<pre><code class="language-c">typedef void (*Fmap)(void** o, void* i);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="hashh"><a class="header" href="#hashh"><code>hash.h</code></a></h1>
<p>Exposes hash functions for standard data types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/hash.h">Source file</a></p>
<h2 id="hash_sig"><a class="header" href="#hash_sig"><code>HASH_SIG</code></a></h2>
<p>Hash a string.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">HASH_SIG(str);
</code></pre>
<h2 id="hash_sig-1"><a class="header" href="#hash_sig-1"><code>HASH_SIG</code></a></h2>
<p>Hash a size_t.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">HASH_SIG(size_t);
</code></pre>
<h2 id="hash_sig-2"><a class="header" href="#hash_sig-2"><code>HASH_SIG</code></a></h2>
<p>Hash a void pointer. This operates on the numerical value of the pointer, and not its content!</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">HASH_SIG(ptr);
</code></pre>
<h2 id="hash_sig-3"><a class="header" href="#hash_sig-3"><code>HASH_SIG</code></a></h2>
<p>Hash an int.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">HASH_SIG(int);
</code></pre>
<h2 id="hash_sig-4"><a class="header" href="#hash_sig-4"><code>HASH_SIG</code></a></h2>
<p>Signature of a hashing function.</p>
<ul>
<li><strong>Param</strong> <code>name</code>: The name of the type to hash</li>
</ul>
<p><strong>Returns</strong>: A signature for a function which hashes <code>name</code>s</p>
<pre><code class="language-c">#define HASH_SIG(name) Hash hash_##name(void* v)
</code></pre>
<h2 id="hash_sig-5"><a class="header" href="#hash_sig-5"><code>HASH_SIG</code></a></h2>
<p>Hash a character.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">HASH_SIG(char);
</code></pre>
<h2 id="hasher"><a class="header" href="#hasher"><code>Hasher</code></a></h2>
<p>Type of a function which takes an object and returns its hash.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A value to hash</li>
</ul>
<p><strong>Returns</strong>: The hash of <code>v</code></p>
<pre><code class="language-c">typedef Hash (*Hasher)(void* v);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list-array-conversionsh"><a class="header" href="#list-array-conversionsh"><code>list-array-conversions.h</code></a></h1>
<p>Exposes conversion functiosn between arrays and lists.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/list-array-conversions.h">Source file</a></p>
<h2 id="make_arr_from_list"><a class="header" href="#make_arr_from_list"><code>make_arr_from_list</code></a></h2>
<p>Create an array from a list.</p>
<ul>
<li><strong>Param</strong> <code>arr</code>: Array to write to</li>
<li><strong>Param</strong> <code>l</code>: List ot read</li>
</ul>
<pre><code class="language-c">void make_arr_from_list(Array* arr, List* l);
</code></pre>
<h2 id="make_list_from_arr"><a class="header" href="#make_list_from_arr"><code>make_list_from_arr</code></a></h2>
<p>Create a list from an array. List myst be freed.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to create</li>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to copy</li>
</ul>
<pre><code class="language-c">void make_list_from_arr(List* l, Array* arr);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="listh"><a class="header" href="#listh"><code>list.h</code></a></h1>
<p>Exposes functions to handle the list data structure.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/list.h">Source file</a></p>
<h2 id="all_list"><a class="header" href="#all_list"><code>all_list</code></a></h2>
<p>Return whether all elements of a list of booleans are true.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: List to check</li>
</ul>
<p><strong>Returns</strong>: true iff all elements of the list are true</p>
<pre><code class="language-c">bool all_list(List* l);
</code></pre>
<h2 id="any_list"><a class="header" href="#any_list"><code>any_list</code></a></h2>
<p>Return whether there is some element in a list of booleans which is true.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: List to check</li>
</ul>
<p><strong>Returns</strong>: true iff at at least one element of a list is true.</p>
<pre><code class="language-c">bool any_list(List* l);
</code></pre>
<h2 id="append_list"><a class="header" href="#append_list"><code>append_list</code></a></h2>
<p>Append a value to a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to affect</li>
<li><strong>Param</strong> <code>v</code>: Pointer to the node to add</li>
</ul>
<p><strong>Returns</strong>: true iff successful</p>
<pre><code class="language-c">bool append_list(List* l, void* v);
</code></pre>
<h2 id="append_list_node"><a class="header" href="#append_list_node"><code>append_list_node</code></a></h2>
<p>Append a list node to a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to affect</li>
<li><strong>Param</strong> <code>ln</code>: Pointer to the node to add</li>
</ul>
<p><strong>Returns</strong>: true iff successful</p>
<pre><code class="language-c">bool append_list_node(List* l, ListNode* ln);
</code></pre>
<h2 id="cconcat_list"><a class="header" href="#cconcat_list"><code>cconcat_list</code></a></h2>
<p>Concatenate a list in place, affecting exactly one list (takes time linear in the length of the second list).</p>
<ul>
<li><strong>Param</strong> <code>r</code>: List to output</li>
<li><strong>Param</strong> <code>l</code>: List to concatenate to <code>r</code></li>
</ul>
<pre><code class="language-c">void cconcat_list(List* r, List* l);
</code></pre>
<h2 id="concat_list"><a class="header" href="#concat_list"><code>concat_list</code></a></h2>
<p>Concatenate a pair of lists into another.</p>
<ul>
<li><strong>Param</strong> <code>r</code>: The list outputted</li>
<li><strong>Param</strong> <code>l1</code>: The first list to concatenate.</li>
<li><strong>Param</strong> <code>l2</code>: The second list to concatenate.</li>
</ul>
<pre><code class="language-c">void concat_list(List* r, List* l1, List* l2);
</code></pre>
<h2 id="dest_list"><a class="header" href="#dest_list"><code>dest_list</code></a></h2>
<p>Destroy a list. Does not affect list elements.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to destroy.</li>
<li><strong>Param</strong> <code>freeNodes</code>: Iff not false, frees the memory used by the contained ListNodes</li>
<li><strong>Param</strong> <code>ed</code>: Element destructor called on the data field of each ListNode or NULL</li>
</ul>
<pre><code class="language-c">void dest_list(List* l, Destructor ed);
</code></pre>
<h2 id="dest_list_iter"><a class="header" href="#dest_list_iter"><code>dest_list_iter</code></a></h2>
<p>Destroy an iterator.</p>
<ul>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to destroy</li>
</ul>
<pre><code class="language-c">void dest_list_iter(ListIter* i);
</code></pre>
<h2 id="dest_list_node"><a class="header" href="#dest_list_node"><code>dest_list_node</code></a></h2>
<p>Destroy a list node.</p>
<ul>
<li><strong>Param</strong> <code>ln</code>: Pointer to the list node to destroy</li>
<li><strong>Param</strong> <code>ed</code>: Element destructor to be called on the data field of the list node or NULL</li>
</ul>
<pre><code class="language-c">void dest_list_node(ListNode* ln, Destructor ed);
</code></pre>
<h2 id="dest_reversed_list_iter"><a class="header" href="#dest_reversed_list_iter"><code>dest_reversed_list_iter</code></a></h2>
<p>Destroy a reversed iterator.</p>
<ul>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to destroy</li>
</ul>
<pre><code class="language-c">void dest_reversed_list_iter(ReversedListIter* i);
</code></pre>
<h2 id="iconcat_list"><a class="header" href="#iconcat_list"><code>iconcat_list</code></a></h2>
<p>Concatenate a pair of lists in place. Takes constant time and the second list is no longer valid and should be.</p>
<ul>
<li><strong>Param</strong> <code>l1</code>: List to concatenate (left)</li>
<li><strong>Param</strong> <code>l2</code>: List to concatenate (right)</li>
</ul>
<pre><code class="language-c">void iconcat_list(List* r, List* l);
</code></pre>
<h2 id="in_list"><a class="header" href="#in_list"><code>in_list</code></a></h2>
<p>Checks whether a given element is in a list (by reference-equality).</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to check</li>
<li><strong>Param</strong> <code>val</code>: Pointer to the value to test</li>
</ul>
<p><strong>Returns</strong>: true iff the value is in the list</p>
<pre><code class="language-c">bool in_list(List* l, void* val);
</code></pre>
<h2 id="in_list_eq"><a class="header" href="#in_list_eq"><code>in_list_eq</code></a></h2>
<p>Tests whether there exists an element in a given list which is equal under some function.</p>
<ul>
<li><strong>Param</strong> <code>m</code>: Maybe container for the value found to be equal to <code>val</code> under <code>cmp</code></li>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to check</li>
<li><strong>Param</strong> <code>cmp</code>: Comparator function to check, val is placed into the first argument.</li>
<li><strong>Param</strong> <code>val</code>: The value to test against</li>
</ul>
<pre><code class="language-c">void in_list_eq(Maybe* m, List* l, Comparator cmp, void* val);
</code></pre>
<h2 id="is_empty_list"><a class="header" href="#is_empty_list"><code>is_empty_list</code></a></h2>
<p>Return whether a list is empty.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: List to check</li>
</ul>
<p><strong>Returns</strong>: false iff the list is not empty</p>
<pre><code class="language-c">bool is_empty_list(List* l);
</code></pre>
<h2 id="iter_list"><a class="header" href="#iter_list"><code>iter_list</code></a></h2>
<p>Move the iterator to the next element in the list.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: A location where the value at the current point in the list will be written</li>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: false if there are no more elements to iterate, true otherwise</p>
<pre><code class="language-c">bool iter_list(void** v, ListIter* i);
</code></pre>
<h2 id="iter_list_nodes"><a class="header" href="#iter_list_nodes"><code>iter_list_nodes</code></a></h2>
<p>Move the iterator to the next node in the list.</p>
<ul>
<li><strong>Param</strong> <code>n</code>: A location where a pointer to the current node will be written</li>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: false if there are no more elements to iterate, true otherwise</p>
<pre><code class="language-c">bool iter_list_nodes(ListNode** n, ListIter* i);
</code></pre>
<h2 id="iter_list_reversed"><a class="header" href="#iter_list_reversed"><code>iter_list_reversed</code></a></h2>
<p>Move the iterator to the next element in the list (when iterated backwards).</p>
<ul>
<li><strong>Param</strong> <code>val</code>: A location where the value at the current point in the list will be written</li>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: false if there are no more elements to iterate, true otherwise</p>
<pre><code class="language-c">bool iter_list_reversed(void** val, ReversedListIter* i);
</code></pre>
<h2 id="make_list"><a class="header" href="#make_list"><code>make_list</code></a></h2>
<p>Initialise a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the area of memory to initialise</li>
</ul>
<pre><code class="language-c">void make_list(List* l);
</code></pre>
<h2 id="make_list_iter"><a class="header" href="#make_list_iter"><code>make_list_iter</code></a></h2>
<p>Initialise an iterator for a list.</p>
<ul>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to initialise</li>
<li><strong>Param</strong> <code>l</code>: Pointer to the list which the iterator will run over</li>
</ul>
<pre><code class="language-c">void make_list_iter(ListIter* i, List* l);
</code></pre>
<h2 id="make_list_node"><a class="header" href="#make_list_node"><code>make_list_node</code></a></h2>
<p>Initialise a list node.</p>
<ul>
<li><strong>Param</strong> <code>ln</code>: Pointer to the memory to initialise</li>
<li><strong>Param</strong> <code>data</code>: The data to store in the node</li>
</ul>
<pre><code class="language-c">void make_list_node(ListNode* ln, void* data);
</code></pre>
<h2 id="make_reversed_list_iter"><a class="header" href="#make_reversed_list_iter"><code>make_reversed_list_iter</code></a></h2>
<p>Initialise a reverse-iterator for a list.</p>
<ul>
<li><strong>Param</strong> <code>i</code>: Pointer to the iterator to initialise</li>
<li><strong>Param</strong> <code>l</code>: Pointer to the list which the iterator will run over</li>
</ul>
<pre><code class="language-c">void make_reversed_list_iter(ReversedListIter* i, List* l);
</code></pre>
<h2 id="prepend_list"><a class="header" href="#prepend_list"><code>prepend_list</code></a></h2>
<p>Add a value to the head of a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: pointer to the list to change</li>
<li><strong>Param</strong> <code>v</code>: Pointer to the value to prepend</li>
</ul>
<p><strong>Returns</strong>: true iff successful</p>
<pre><code class="language-c">bool prepend_list(List* l, void* v);
</code></pre>
<h2 id="prepend_list_node"><a class="header" href="#prepend_list_node"><code>prepend_list_node</code></a></h2>
<p>Add a node to the front of a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list to change</li>
<li><strong>Param</strong> <code>ln</code>: Pointer to the node to add</li>
</ul>
<p><strong>Returns</strong>: true iff successfil</p>
<pre><code class="language-c">bool prepend_list_node(List* l, ListNode* ln);
</code></pre>
<h2 id="remove_list_node"><a class="header" href="#remove_list_node"><code>remove_list_node</code></a></h2>
<p>Remove a node from a list.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: Pointer to the list which contains <code>ln</code></li>
<li><strong>Param</strong> <code>ln</code>: Pointer to the node to remove</li>
</ul>
<p><strong>Returns</strong>: Returns true iff successful</p>
<pre><code class="language-c">bool remove_list_node(List* l, ListNode* ln);
</code></pre>
<h2 id="set_sublist"><a class="header" href="#set_sublist"><code>set_sublist</code></a></h2>
<p>Declare whether all nodes of a list are now entirely contained within another, preventing double-frees.</p>
<ul>
<li><strong>Param</strong> <code>l</code>: List to modify</li>
<li><strong>Param</strong> <code>is_sublist</code>: Whether <code>l</code> is a sublist of another list</li>
</ul>
<pre><code class="language-c">void set_sublist(List* l, bool is_sublist);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lockedh"><a class="header" href="#lockedh"><code>locked.h</code></a></h1>
<p>Exposes functions for data-structure locking, designed to reduce the possibility of race conditions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/locked.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="maph"><a class="header" href="#maph"><code>map.h</code></a></h1>
<p>Exposes functions to handle the Map data structure.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/map.h">Source file</a></p>
<h2 id="dest_map"><a class="header" href="#dest_map"><code>dest_map</code></a></h2>
<p>Destroy a map.</p>
<ul>
<li><strong>Param</strong> <code>map</code>: Pointer to the map to destroy</li>
<li><strong>Param</strong> <code>ved</code>: Value destructor</li>
</ul>
<pre><code class="language-c">void dest_map(Map* map, Destructor ved);
</code></pre>
<h2 id="dest_map_iter"><a class="header" href="#dest_map_iter"><code>dest_map_iter</code></a></h2>
<p>Destroy a map iterator.</p>
<ul>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to destroy</li>
</ul>
<pre><code class="language-c">void dest_map_iter(MapIter* iter);
</code></pre>
<h2 id="get_map"><a class="header" href="#get_map"><code>get_map</code></a></h2>
<p>Get a value from a map.</p>
<ul>
<li><strong>Param</strong> <code>mo</code>: Return value populated with the value if present</li>
<li><strong>Param</strong> <code>map</code>: Pointer to the map to retrieve the value from</li>
<li><strong>Param</strong> <code>key</code>: Key to use</li>
</ul>
<pre><code class="language-c">void get_map(Maybe* mo, Map* map, void* key);
</code></pre>
<h2 id="iter_map"><a class="header" href="#iter_map"><code>iter_map</code></a></h2>
<p>Iterate once over key-value pairs using a specified iterator.</p>
<ul>
<li><strong>Param</strong> <code>p</code>: Pointer to the return pair</li>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> if iteration was successful, otherwise <code>false</code> as iteration has finished</p>
<pre><code class="language-c">bool iter_map(Pair** p, MapIter* iter);
</code></pre>
<h2 id="iter_map_keys"><a class="header" href="#iter_map_keys"><code>iter_map_keys</code></a></h2>
<p>Iterate once over the keys in a map using a given iterator.</p>
<ul>
<li><strong>Param</strong> <code>k</code>: Pointer to the key to return</li>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff iteration was successful, otherwise <code>false</code> as iteration has finished</p>
<pre><code class="language-c">bool iter_map_keys(void** k, MapIter* iter);
</code></pre>
<h2 id="iter_map_values"><a class="header" href="#iter_map_values"><code>iter_map_values</code></a></h2>
<p>Iterate over the values in a map using a given iterator.</p>
<ul>
<li><strong>Param</strong> <code>v</code>: Pointer to the value to return</li>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to use</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff iteration was successful, otherwise <code>false</code> as iteration has finished</p>
<pre><code class="language-c">bool iter_map_values(void** v, MapIter* iter);
</code></pre>
<h2 id="make_map"><a class="header" href="#make_map"><code>make_map</code></a></h2>
<p>Make a map.</p>
<ul>
<li><strong>Param</strong> <code>map</code>: Pointer to the map to create</li>
<li><strong>Param</strong> <code>hash</code>: Hash function to use on keys</li>
<li><strong>Param</strong> <code>kcmp</code>: Comparator to use on keys</li>
<li><strong>Param</strong> <code>ked</code>: Destructor to use on keys</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff sufficient memory could be allocated to the map, <code>false</code> otherwise</p>
<pre><code class="language-c">bool make_map(Map* map, Hasher hash, Comparator kcmp, Destructor ked);
</code></pre>
<h2 id="make_map_from_list"><a class="header" href="#make_map_from_list"><code>make_map_from_list</code></a></h2>
<p>Make a map from a list of key-value Pairs.</p>
<ul>
<li><strong>Param</strong> <code>map</code>: Pointer to the map to create</li>
<li><strong>Param</strong> <code>list</code>: Pointer to the list of key-value Pairs</li>
<li><strong>Param</strong> <code>hash</code>: Hash function to use on keys</li>
<li><strong>Param</strong> <code>kcmp</code>: Comparison function to use on keys</li>
<li><strong>Param</strong> <code>ked</code>: Destructor for the keys</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff enough memory could be allocated to create the map, <code>false</code> otherwise</p>
<pre><code class="language-c">bool make_map_from_list(Map* map, List* list, Hasher hash, Comparator kcmp, Destructor ked);
</code></pre>
<h2 id="make_map_iter"><a class="header" href="#make_map_iter"><code>make_map_iter</code></a></h2>
<p>Make an iterator over the map.</p>
<ul>
<li><strong>Param</strong> <code>iter</code>: Pointer to the iterator to make</li>
<li><strong>Param</strong> <code>map</code>: Pointer to the map to iterate over</li>
</ul>
<pre><code class="language-c">void make_map_iter(MapIter* iter, Map* map);
</code></pre>
<h2 id="push_map"><a class="header" href="#push_map"><code>push_map</code></a></h2>
<p>Push a value into a map.</p>
<ul>
<li><strong>Param</strong> <code>oldval</code>: Pointer to a maybe type to be populated with the old value at a given key, if present</li>
<li><strong>Param</strong> <code>m</code>: Pointer to the map to populate</li>
<li><strong>Param</strong> <code>k</code>: Key to push</li>
<li><strong>Param</strong> <code>v</code>: Value to push</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff sufficient memory was available during pushing and (if necessary) resizing, otherwise <code>false</code></p>
<pre><code class="language-c">bool push_map(Maybe* oldval, Map* m, void* k, void* v);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybeh"><a class="header" href="#maybeh"><code>maybe.h</code></a></h1>
<p>Exposes functions to handle the maybe data-type, which can represent either a value or nothing.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/maybe.h">Source file</a></p>
<h2 id="dest_maybe"><a class="header" href="#dest_maybe"><code>dest_maybe</code></a></h2>
<p>Destroy a maybe-type object. Any stored data must be destroyed separately.</p>
<ul>
<li><strong>Param</strong> <code>m</code>: Pointer to a meybe object to destroy</li>
<li><strong>Param</strong> <code>ed</code>: Element destructor to be called on the just field if the constructor permits</li>
</ul>
<pre><code class="language-c">void dest_maybe(Maybe* m, Destructor ed);
</code></pre>
<h2 id="fmap_maybe"><a class="header" href="#fmap_maybe"><code>fmap_maybe</code></a></h2>
<p>Apply a function to the stored data in the maybe and output a new maybe object with the new value.</p>
<ul>
<li><strong>Param</strong> <code>mo</code>: Ouptut maybe object. Should be an uninitialised maybe-type pointer.</li>
<li><strong>Param</strong> <code>mi</code>: Input maybe object which will have <code>f</code> applied to it</li>
<li><strong>Param</strong> <code>f</code>: Function to apply to any data inside <code>mi</code></li>
</ul>
<pre><code class="language-c">void fmap_maybe(Maybe* restrict mo, Maybe* restrict mi, Fmap f);
</code></pre>
<h2 id="make_maybe_just"><a class="header" href="#make_maybe_just"><code>make_maybe_just</code></a></h2>
<p>Construct a maybe-type object with the just constructor.</p>
<ul>
<li><strong>Param</strong> <code>m</code>: Pointer to a location to initialise</li>
<li><strong>Param</strong> <code>data</code>: Data to store in the just</li>
</ul>
<pre><code class="language-c">void make_maybe_just(Maybe* m, void* data);
</code></pre>
<h2 id="make_maybe_nothing"><a class="header" href="#make_maybe_nothing"><code>make_maybe_nothing</code></a></h2>
<p>Construct a maybe-type object with the nothing constructor.</p>
<ul>
<li><strong>Param</strong> <code>m</code>: Pointer to a location to initialise</li>
</ul>
<pre><code class="language-c">void make_maybe_nothing(Maybe* m);
</code></pre>
<h2 id="succ_maybe"><a class="header" href="#succ_maybe"><code>succ_maybe</code></a></h2>
<p>Check whether a maybe-type object represents a success.</p>
<ul>
<li><strong>Param</strong> <code>m</code>: Pointer to a maybe object</li>
</ul>
<p><strong>Returns</strong>: Returns true if the constructor of <code>m</code> is Just, otherwise false</p>
<pre><code class="language-c">bool succ_maybe(Maybe* m) __attribute__((pure));
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="strh"><a class="header" href="#strh"><code>str.h</code></a></h1>
<p>Exposes functions to hendle the string data-type.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/str.h">Source file</a></p>
<h2 id="arr_to_str"><a class="header" href="#arr_to_str"><code>arr_to_str</code></a></h2>
<p>Create a string from an array of characters.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to create</li>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to read</li>
</ul>
<pre><code class="language-c">void arr_to_str(Str* str, Array* arr);
</code></pre>
<h2 id="copy_into_str"><a class="header" href="#copy_into_str"><code>copy_into_str</code></a></h2>
<p>Copy the value of a string into another string starting at a given index. Only mutates if the entire string.</p>
<ul>
<li><strong>Param</strong> <code>cont</code>: The container string to write into</li>
<li><strong>Param</strong> <code>ins</code>: The insertion string to read from</li>
<li><strong>Param</strong> <code>startIdx</code>: The index to start writing from</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff <code>startIdx</code> is low enough to allow all of <code>ins</code> to fit in <code>cont</code> otherwise <code>false</code></p>
<pre><code class="language-c">bool copy_into_str(Str* cont, Str* ins, size_t startIdx);
</code></pre>
<h2 id="dest_free_sig"><a class="header" href="#dest_free_sig"><code>dest_free_sig</code></a></h2>
<p>Destroy and free a string.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: String to destroy</li>
</ul>
<pre><code class="language-c">dest_free_sig(str, Str);
</code></pre>
<h2 id="dest_str"><a class="header" href="#dest_str"><code>dest_str</code></a></h2>
<p>Destroy a string and free its memory if required.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to destroy</li>
</ul>
<pre><code class="language-c">void dest_str(Str* str);
</code></pre>
<h2 id="get_strc"><a class="header" href="#get_strc"><code>get_strc</code></a></h2>
<p>Get the character at a specified index.</p>
<ul>
<li><strong>Param</strong> <code>ret</code>: Pointer to the return value, creates a Maybe object of constructor JUST iff the index was valid. In this</li>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to search</li>
<li><strong>Param</strong> <code>idx</code>: Index to get if valid</li>
</ul>
<pre><code class="language-c">void get_strc(Maybe* ret, Str* str, size_t idx);
</code></pre>
<h2 id="make_str"><a class="header" href="#make_str"><code>make_str</code></a></h2>
<p>Make an empty string.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the String object to initialise</li>
</ul>
<pre><code class="language-c">void make_str(Str* str);
</code></pre>
<h2 id="make_strc"><a class="header" href="#make_strc"><code>make_strc</code></a></h2>
<p>Make a string by copying another.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to make</li>
<li><strong>Param</strong> <code>raw</code>: Pointer to the raw characters to copy</li>
</ul>
<pre><code class="language-c">void make_strc(Str* str, char* raw);
</code></pre>
<h2 id="make_strl"><a class="header" href="#make_strl"><code>make_strl</code></a></h2>
<p>Make a string of specified length.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to initialise</li>
<li><strong>Param</strong> <code>len</code>: Length of the string to create</li>
</ul>
<p><strong>Returns</strong>: True iff memory was successfully allocated</p>
<pre><code class="language-c">bool make_strl(Str* str, size_t len);
</code></pre>
<h2 id="make_strr"><a class="header" href="#make_strr"><code>make_strr</code></a></h2>
<p>Make a string by reference to a raw value, freeing the raw value when destroyed.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to make</li>
<li><strong>Param</strong> <code>raw</code>: Pointer to the raw characters</li>
</ul>
<pre><code class="language-c">void make_strr(Str* str, char* raw);
</code></pre>
<h2 id="make_strv"><a class="header" href="#make_strv"><code>make_strv</code></a></h2>
<p>Make a string by reference to a raw value.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to make</li>
<li><strong>Param</strong> <code>raw</code>: Pointer to the raw characters</li>
</ul>
<pre><code class="language-c">void make_strv(Str* str, char* raw);
</code></pre>
<h2 id="set_strc"><a class="header" href="#set_strc"><code>set_strc</code></a></h2>
<p>Set the value of a character in a string at a specified index.</p>
<ul>
<li><strong>Param</strong> <code>str</code>: Pointer to the string to mutate</li>
<li><strong>Param</strong> <code>idx</code>: Index of the mutation</li>
<li><strong>Param</strong> <code>val</code>: Value to write</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> if <code>idx</code> was valid else <code>false</code></p>
<pre><code class="language-c">bool set_strc(Str* str, size_t idx, char val);
</code></pre>
<h2 id="str_to_arr"><a class="header" href="#str_to_arr"><code>str_to_arr</code></a></h2>
<p>Create an array (of character values) from a string.</p>
<ul>
<li><strong>Param</strong> <code>arr</code>: Pointer to the array to make</li>
<li><strong>Param</strong> <code>str</code>: Pointer to the string whose data will be copied</li>
</ul>
<pre><code class="language-c">void str_to_arr(Array* arr, Str* str);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="tupleh"><a class="header" href="#tupleh"><code>tuple.h</code></a></h1>
<p>Provides definitions for tuples, fixed-length heterogeneous data-types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/tuple.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="unith"><a class="header" href="#unith"><code>unit.h</code></a></h1>
<p>Exposes functions to handle the Unit data type, which cannot represent any information.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/unit.h">Source file</a></p>
<h2 id="dest_unit"><a class="header" href="#dest_unit"><code>dest_unit</code></a></h2>
<p>Destroy a unit.</p>
<ul>
<li><strong>Param</strong> <code>unitp</code>: Pointer to a unit to destroy</li>
</ul>
<pre><code class="language-c">void dest_unit(Unit* unitp);
</code></pre>
<h2 id="make_unit"><a class="header" href="#make_unit"><code>make_unit</code></a></h2>
<p>Make a unit.</p>
<ul>
<li><strong>Param</strong> <code>unitp</code>: Pointer to the unit to make</li>
</ul>
<pre><code class="language-c">void make_unit(Unit* unitp);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="doc-struct"><a class="header" href="#doc-struct"><code>doc-struct/</code></a></h1>
<p>This directory contains modules used to define and handle document structure.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asth"><a class="header" href="#asth"><code>ast.h</code></a></h1>
<p>Exposes functions to handle Emblem document structures.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/ast.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="discern-parsh"><a class="header" href="#discern-parsh"><code>discern-pars.h</code></a></h1>
<p>Exposes functionality for  automatically placing paragraph nodes in a document.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/discern-pars.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="locationh"><a class="header" href="#locationh"><code>location.h</code></a></h1>
<p>Exposes functions to handle the Location structure for keeping track of places in the document source.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/location.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="drivers"><a class="header" href="#drivers"><code>drivers/</code></a></h1>
<p>This directory contains files used for interacting with output drivers.
It is responsibly for both defining a set of core output drivers, and also interfacing with those defined in extension-space.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="driver-paramsh"><a class="header" href="#driver-paramsh"><code>driver-params.h</code></a></h1>
<p>Exposes functionality to handle output drivers parameters.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/driver-params.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="driversh"><a class="header" href="#driversh"><code>drivers.h</code></a></h1>
<p>Exposes functions for handling output drivers.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/drivers.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="driver-utilh"><a class="header" href="#driver-utilh"><code>driver-util.h</code></a></h1>
<p>This module lacks a documentation header.</p>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/driver-util.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="write-outh"><a class="header" href="#write-outh"><code>write-out.h</code></a></h1>
<p>This module lacks a documentation header.</p>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/write-out.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext"><a class="header" href="#ext"><code>ext/</code></a></h1>
<p>This directory contains the code which manages and interacts with extension space.
It allows the execution of arbitrary Lua code as the program executes and is the module primarily responsible for Emblem’s extensibility.</p>
<p>In the <a href="https://github.com/TheSignPainter98/emblem">source code</a>, the <a href="modules/h/../../extension-api.html">standard extension library</a> is defined in the <code>lib/</code> directory beneath this one.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debugh"><a class="header" href="#debugh"><code>debug.h</code></a></h1>
<p>Exposes functions for debugging the Lua API stack.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/debug.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-envh"><a class="header" href="#ext-envh"><code>ext-env.h</code></a></h1>
<p>Exposes functions for handling the Lua extension environment.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-env.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-loaderh"><a class="header" href="#ext-loaderh"><code>ext-loader.h</code></a></h1>
<p>Exposes the extension loader.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-loader.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-paramsh"><a class="header" href="#ext-paramsh"><code>ext-params.h</code></a></h1>
<p>Exposes functions to handle extension-environment parameters.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-params.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-ast-ioh"><a class="header" href="#lua-ast-ioh"><code>lua-ast-io.h</code></a></h1>
<p>Exposes functions for translating between Lua tables and document trees.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-ast-io.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-constantsh"><a class="header" href="#lua-constantsh"><code>lua-constants.h</code></a></h1>
<p>Exposes function for setting-up interface constants in the extension environment.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-constants.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-em-parserh"><a class="header" href="#lua-em-parserh"><code>lua-em-parser.h</code></a></h1>
<p>Exposes interface between core Emblem parser and extension space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-em-parser.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-eventsh"><a class="header" href="#lua-eventsh"><code>lua-events.h</code></a></h1>
<p>Exposes functions for issuing typesetting events to extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-events.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="luac"><a class="header" href="#luac"><code>lua.c</code></a></h1>
<p>Provides functions for executing evaluation-passes on document trees.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-lib-loadh"><a class="header" href="#lua-lib-loadh"><code>lua-lib-load.h</code></a></h1>
<p>Exposes function to load standard Lua libraries into extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-lib-load.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-pointersh"><a class="header" href="#lua-pointersh"><code>lua-pointers.h</code></a></h1>
<p>This module lacks a documentation header.</p>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-pointers.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="styleh"><a class="header" href="#styleh"><code>style.h</code></a></h1>
<p>Exposes function for importing stylesheets from extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/style.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="logs"><a class="header" href="#logs"><code>logs/</code></a></h1>
<p>This directory holds code which is responsible for logging-output.
It also provides an interface between its logging functions and extension-space.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ext-logh"><a class="header" href="#ext-logh"><code>ext-log.h</code></a></h1>
<p>Exposes functions to make core logging functions available to extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/logs/ext-log.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="logsh"><a class="header" href="#logsh"><code>logs.h</code></a></h1>
<p>Exposes logging functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/logs/logs.h">Source file</a></p>
<h2 id="fini_logs"><a class="header" href="#fini_logs"><code>fini_logs</code></a></h2>
<p>Finalise logging.</p>
<pre><code class="language-c">void fini_logs(void);
</code></pre>
<h2 id="init_logs"><a class="header" href="#init_logs"><code>init_logs</code></a></h2>
<p>Initialise logging.</p>
<ul>
<li><strong>Param</strong> <code>args</code>: Parsed command-line arguments</li>
</ul>
<pre><code class="language-c">void init_logs(Args* args);
</code></pre>
<h2 id="log_debug"><a class="header" href="#log_debug"><code>log_debug</code></a></h2>
<p>Write a debug message to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: debug message format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_debug(const char* restrict format, ...) __attribute__((format(printf, 1, 2)));
</code></pre>
<h2 id="log_err"><a class="header" href="#log_err"><code>log_err</code></a></h2>
<p>Write an error stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Error format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_err(const char* restrict format, ...) __attribute__((cold)) __attribute__((format(printf, 1, 2)));
</code></pre>
<h2 id="log_err_at"><a class="header" href="#log_err_at"><code>log_err_at</code></a></h2>
<p>Write an error stderr referencing a source location.</p>
<ul>
<li><strong>Param</strong> <code>loc</code>: The source location to reference</li>
<li><strong>Param</strong> <code>format</code>: Error format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_err_at(Location* loc, const char* restrict format, ...) __attribute__((cold))
</code></pre>
<h2 id="log_info"><a class="header" href="#log_info"><code>log_info</code></a></h2>
<p>Write information to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Information format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_info(const char* restrict format, ...) __attribute__((format(printf, 1, 2)));
</code></pre>
<h2 id="log_warn"><a class="header" href="#log_warn"><code>log_warn</code></a></h2>
<p>Write a warning to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Warning format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">int log_warn(const char* restrict format, ...) __attribute__((format(printf, 1, 2)));
</code></pre>
<h2 id="log_warn_at"><a class="header" href="#log_warn_at"><code>log_warn_at</code></a></h2>
<p>Write a warning to stderr referencing a source location.</p>
<ul>
<li><strong>Param</strong> <code>loc</code>: The source location to reference</li>
<li><strong>Param</strong> <code>format</code>: Warning format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">int log_warn_at(Location* loc, const char* restrict format, ...);
</code></pre>
<h2 id="vlog_debug"><a class="header" href="#vlog_debug"><code>vlog_debug</code></a></h2>
<p>Write a debug message to stderr, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: debug message format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void vlog_debug(const char* restrict format, va_list va);
</code></pre>
<h2 id="vlog_err"><a class="header" href="#vlog_err"><code>vlog_err</code></a></h2>
<p>Write an error stderr, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Error format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void vlog_err(const char* restrict format, va_list va);
</code></pre>
<h2 id="vlog_err_at"><a class="header" href="#vlog_err_at"><code>vlog_err_at</code></a></h2>
<p>Write an error stderr referencing a source location, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>loc</code>: The source location to reference</li>
<li><strong>Param</strong> <code>format</code>: Error format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void vlog_err_at(Location* loc, const char* restrict format, va_list va);
</code></pre>
<h2 id="vlog_info"><a class="header" href="#vlog_info"><code>vlog_info</code></a></h2>
<p>Write information to stderr, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Information format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void vlog_info(const char* restrict format, va_list va);
</code></pre>
<h2 id="vlog_warn"><a class="header" href="#vlog_warn"><code>vlog_warn</code></a></h2>
<p>Write a warning to stderr, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Warning format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">int vlog_warn(const char* restrict format, va_list va);
</code></pre>
<h2 id="vlog_warn_at"><a class="header" href="#vlog_warn_at"><code>vlog_warn_at</code></a></h2>
<p>Write a warning to stderr referencing a source location, using a va_list of format-arguments.</p>
<ul>
<li><strong>Param</strong> <code>loc</code>: The source location to reference</li>
<li><strong>Param</strong> <code>format</code>: Warning format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">int vlog_warn_at(Location* loc, const char* restrict format, va_list va);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parser"><a class="header" href="#parser"><code>parser/</code></a></h1>
<p>This directory is responsible for all parsing which occurs from within the core.
It contains the Emblem parser and lexer specifications as well as code for input sanitisation and handling syntactic sugar.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parserh"><a class="header" href="#parserh"><code>parser.h</code></a></h1>
<p>Exposes document parser at the topmost level.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/parser.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="sanitise-wordh"><a class="header" href="#sanitise-wordh"><code>sanitise-word.h</code></a></h1>
<p>Exposes word-sanitiser for the Emblem parser.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/sanitise-word.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="sugarh"><a class="header" href="#sugarh"><code>sugar.h</code></a></h1>
<p>Exposes functions to construct syntactic sugar calls.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/sugar.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="pp"><a class="header" href="#pp"><code>pp/</code></a></h1>
<p>Holds useful definitions for the preprocessor.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="asserth"><a class="header" href="#asserth"><code>assert.h</code></a></h1>
<p>Preprocessor definitions for compile-time assertions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/pp/assert.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lambdah"><a class="header" href="#lambdah"><code>lambda.h</code></a></h1>
<p>Provides functions and preprocessor definitions for lambdas (anonymous functions).</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/pp/lambda.h">Source file</a></p>
<h2 id="func_sig"><a class="header" href="#func_sig"><code>func_sig</code></a></h2>
<p>A named function signature.</p>
<ul>
<li><strong>Param</strong> <code>r</code>: Return type of the lambda, cannot be void</li>
<li><strong>Param</strong> <code>n</code>: Expression of the body of the lambda, must have non-void type</li>
<li><strong>Param</strong> <code>ps</code>: Parameters of the lambda</li>
</ul>
<p><strong>Returns</strong>: The signature of a function-pointer of name <code>n</code> which takes <code>ps</code> and returns <code>r</code></p>
<pre><code class="language-c">#define func_sig(r, n, ps) r(fun n) ps
</code></pre>
<h2 id="func_type"><a class="header" href="#func_type"><code>func_type</code></a></h2>
<p>A function type.</p>
<ul>
<li><strong>Param</strong> <code>r</code>: Return type of the function signature</li>
<li><strong>Param</strong> <code>ps</code>: Parameters of the function</li>
</ul>
<p><strong>Returns</strong>: The type of a function-pointer which takes <code>ps</code> and returns <code>r</code></p>
<pre><code class="language-c">#define func_type(r, ps) r(fun) ps
</code></pre>
<h2 id="ilambda"><a class="header" href="#ilambda"><code>ilambda</code></a></h2>
<p>Create an impure anonymous function.</p>
<ul>
<li><strong>Param</strong> <code>r</code>: Return type of the lambda expression</li>
<li><strong>Param</strong> <code>ps</code>: Paramters of the lambda expression</li>
<li><strong>Param</strong> <code>b</code>: Body of the lambda expression, must be surrounded by curly braces</li>
</ul>
<p><strong>Returns</strong>: A pointer to an anonymous function with parameters <code>ps</code>, return-type <code>r</code> and body <code>b</code></p>
<pre><code class="language-c">#	define ilambda(r, ps, b)                                                                                          \
</code></pre>
<h2 id="lambda"><a class="header" href="#lambda"><code>lambda</code></a></h2>
<p>Create a pure anonymous function.</p>
<ul>
<li><strong>Param</strong> <code>r</code>: Return type of the lambda, cannot be void</li>
<li><strong>Param</strong> <code>ps</code>: Parameters of the lambda</li>
<li><strong>Param</strong> <code>e</code>: Expression of the body of the lambda, must have non-void type</li>
</ul>
<p><strong>Returns</strong>: A pointer to an anonymous function which takes <code>ps</code> and returns the value of <code>e</code> of type <code>r</code></p>
<pre><code class="language-c">#	define lambda(r, ps, e)                                                                                           \
</code></pre>
<h2 id="void-1"><a class="header" href="#void-1"><code>void</code></a></h2>
<p>Lambda-friendly implementation of <code>free</code>.</p>
<ul>
<li><strong>Param</strong> <code>p</code>: Pointer to memory to free</li>
</ul>
<pre><code class="language-c">extern void(fun freel)(void* p);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="not_implementedh"><a class="header" href="#not_implementedh"><code>not_implemented.h</code></a></h1>
<p>Preprocessor definitions for function-stubs to stymie compiler errors.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/pp/not_implemented.h">Source file</a></p>
<h2 id="not_implemented"><a class="header" href="#not_implemented"><code>NOT_IMPLEMENTED</code></a></h2>
<p>Declare a function signature as not-implemented.</p>
<ul>
<li><strong>Param</strong> <code>sig</code>: A signature to mark as unimplemented</li>
</ul>
<p><strong>Returns</strong>: An implementation of the signature which prints that the function is missing before exiting unsuccessfully</p>
<pre><code class="language-c">#define NOT_IMPLEMENTED(sig)                                                                                           \
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unusedh"><a class="header" href="#unusedh"><code>unused.h</code></a></h1>
<p>Provides preprocessor definitions to declare variables as unused to stymie compiler warnings.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/pp/unused.h">Source file</a></p>
<h2 id="unused"><a class="header" href="#unused"><code>UNUSED</code></a></h2>
<p>Declare a variable as unused.</p>
<ul>
<li><strong>Param</strong> <code>x</code>: The name of the variable to declare unused</li>
</ul>
<p><strong>Returns</strong>: A statement without effect which makes the compiler believe that <code>x</code> is used</p>
<pre><code class="language-c">#define UNUSED(x) x = x
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="style"><a class="header" href="#style"><code>style/</code></a></h1>
<p>This module handles the resolution and usage of styling information.
Specifically, it is responsible for inputting, preprocessing, reading and applying style-sheets.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cssh"><a class="header" href="#cssh"><code>css.h</code></a></h1>
<p>Exposes functions to handle styling and stylesheets.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/css.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="css-paramsh"><a class="header" href="#css-paramsh"><code>css-params.h</code></a></h1>
<p>Exposes functions to handle CSS-environment parameters.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/css-params.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="preprocess-cssh"><a class="header" href="#preprocess-cssh"><code>preprocess-css.h</code></a></h1>
<p>Exposes functions to call a preprocessor on CSS documents.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/preprocess-css.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="typesetter"><a class="header" href="#typesetter"><code>typesetter/</code></a></h1>
<p>This module is responsible for handling the typesetter.
It governs both the typesetting loop and the internal typesetting engine.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="typesetterh"><a class="header" href="#typesetterh"><code>typesetter.h</code></a></h1>
<p>Provides an interface to call the typesetting loop.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/typesetter/typesetter.h">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="module-internal-docs"><a class="header" href="#module-internal-docs">Module internal docs</a></h1>
<p>This section details the internal documentation written in each core module, that is, documentation present in files <code>*.c</code> in in the <a href="https://github.com/TheSignPainter98/emblem/tree/master/src">repository</a>.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="data-1"><a class="header" href="#data-1"><code>data/</code></a></h1>
<p>Defines the generic data structures used to represent internal data.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="arrayc"><a class="header" href="#arrayc"><code>array.c</code></a></h1>
<p>Implement fixed-length arrays structures.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/array.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="cmpc"><a class="header" href="#cmpc"><code>cmp.c</code></a></h1>
<p>Implements comparator functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/cmp.c">Source file</a></p>
<h2 id="cmp-1"><a class="header" href="#cmp-1"><code>CMP</code></a></h2>
<p>Create a generic comparator function.</p>
<ul>
<li><strong>Param</strong> <code>name</code>: Name of the type</li>
<li><strong>Param</strong> <code>type</code>: Type to compare</li>
</ul>
<p><strong>Returns</strong>: A function which compares two <code>type</code>s</p>
<pre><code class="language-c">#	define CMP(name, type) Cmp cmp_##name##s(void* v1, void* v2) COMPARISON_BODY(type)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="eitherc"><a class="header" href="#eitherc"><code>either.c</code></a></h1>
<p>Provices an implementation of the Either data-type, which can encode values of two types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/either.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="hashc"><a class="header" href="#hashc"><code>hash.c</code></a></h1>
<p>Provides hash functions for standard data types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/hash.c">Source file</a></p>
<h2 id="hash_num"><a class="header" href="#hash_num"><code>HASH_NUM</code></a></h2>
<p>Construct a function which hashes a specified numeric type.</p>
<ul>
<li><strong>Param</strong> <code>name</code>: The name of the type to hash</li>
<li><strong>Param</strong> <code>type</code>: The type of the values to hash</li>
</ul>
<p><strong>Returns</strong>: A function which hashes <code>type</code>s</p>
<pre><code class="language-c">#define HASH_NUM(name, type)                                                                                           \
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="list-array-conversionsc"><a class="header" href="#list-array-conversionsc"><code>list-array-conversions.c</code></a></h1>
<p>Provides conversoin functions between arrays and lists.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/list-array-conversions.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="listc"><a class="header" href="#listc"><code>list.c</code></a></h1>
<p>Implements the list data-structure, a deque.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/list.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lockedc"><a class="header" href="#lockedc"><code>locked.c</code></a></h1>
<p>Provides a locking structure for accessing data-structures, designed to prevent race conditions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/locked.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="mapc"><a class="header" href="#mapc"><code>map.c</code></a></h1>
<p>Implements the map data structure.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/map.c">Source file</a></p>
<h2 id="next_non_empty_bucket"><a class="header" href="#next_non_empty_bucket"><code>next_non_empty_bucket</code></a></h2>
<p>Find the next non-empty bucket with an index strictly after a specified index.</p>
<ul>
<li><strong>Param</strong> <code>map</code>: Map to search</li>
<li><strong>Param</strong> <code>curr</code>: Strict index lower bound</li>
</ul>
<p><strong>Returns</strong>: <code>true</code> iff a non-empty bucket at index &gt; <code>curr</code> was found, else <code>false</code></p>
<pre><code class="language-c">static bool next_non_empty_bucket(Map* map, unsigned int* curr);
</code></pre>
<h2 id="pkcmp"><a class="header" href="#pkcmp"><code>pkcmp</code></a></h2>
<p>Key comparator function between a kv pair and a specific key.</p>
<ul>
<li><strong>Param</strong> <code>kcmp</code>: Location of the key comparator function</li>
</ul>
<p><strong>Returns</strong>: A lambda function which compares its input <code>v1</code> to the key of its input <code>v2</code></p>
<pre><code class="language-c">#define pkcmp(kcmp) lambda(Cmp, (void* v1, void* v2), kcmp(v1, ((Pair*)v2)-&gt;p0))
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maybec"><a class="header" href="#maybec"><code>maybe.c</code></a></h1>
<p>Implements the Maybe data-structure, which can represent either a value or nothing.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/maybe.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="strc"><a class="header" href="#strc"><code>str.c</code></a></h1>
<p>Implements the string data-structure.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/str.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="unitc"><a class="header" href="#unitc"><code>unit.c</code></a></h1>
<p>Implements the Unit data type.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/data/unit.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="doc-struct-1"><a class="header" href="#doc-struct-1"><code>doc-struct/</code></a></h1>
<p>This directory contains modules used to define and handle document structure.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="astc"><a class="header" href="#astc"><code>ast.c</code></a></h1>
<p>Implements the document structure data types.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/ast.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="discern-parsc"><a class="header" href="#discern-parsc"><code>discern-pars.c</code></a></h1>
<p>Implements functions to automatically place paragraph nodes in a document.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/discern-pars.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="locationc"><a class="header" href="#locationc"><code>location.c</code></a></h1>
<p>Implements the Location data-structure and useful functions for keeping track of locations in the document source.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/doc-struct/location.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="drivers-1"><a class="header" href="#drivers-1"><code>drivers/</code></a></h1>
<p>This directory contains files used for interacting with output drivers.
It is responsibly for both defining a set of core output drivers, and also interfacing with those defined in extension-space.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="driversc"><a class="header" href="#driversc"><code>drivers.c</code></a></h1>
<p>Handles the execution of output drivers both from the core and in extensions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/drivers.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="write-outc"><a class="header" href="#write-outc"><code>write-out.c</code></a></h1>
<p>This module lacks a documentation header.</p>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/drivers/write-out.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="emc"><a class="header" href="#emc"><code>em.c</code></a></h1>
<p>Insertion point for the ‘em’ binary, invokes all functionality used for typeestting documents.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/em.c">Source file</a></p>
<h2 id="main"><a class="header" href="#main"><code>main</code></a></h2>
<p>Entry point.</p>
<ul>
<li><strong>Param</strong> <code>argc</code>: Number of command-line arguments</li>
<li><strong>Param</strong> <code>argv</code>: Command-line argument array</li>
</ul>
<p><strong>Returns</strong>: Program exit code</p>
<pre><code class="language-c">int main(int argc, char** argv)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ext-1"><a class="header" href="#ext-1"><code>ext/</code></a></h1>
<p>This directory contains the code which manages and interacts with extension space.
It allows the execution of arbitrary Lua code as the program executes and is the module primarily responsible for Emblem’s extensibility.</p>
<p>In the <a href="https://github.com/TheSignPainter98/emblem">source code</a>, the <a href="modules/c/../../extension-api.html">standard extension library</a> is defined in the <code>lib/</code> directory beneath this one.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="debugc"><a class="header" href="#debugc"><code>debug.c</code></a></h1>
<p>Implements basic functionality for debugging involving the Lua stack.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/debug.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-envc"><a class="header" href="#ext-envc"><code>ext-env.c</code></a></h1>
<p>Implements the Lua extension environment, loading libraries, extensions and pointers.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-env.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-loaderc"><a class="header" href="#ext-loaderc"><code>ext-loader.c</code></a></h1>
<p>Implements the extension-loader.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-loader.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="ext-paramsc"><a class="header" href="#ext-paramsc"><code>ext-params.c</code></a></h1>
<p>Implements functions to handle extension-environment parameters.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/ext-params.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-ast-ioc"><a class="header" href="#lua-ast-ioc"><code>lua-ast-io.c</code></a></h1>
<p>Provides functions for translating from Lua tables to docuemnt-trees and vice-versa.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-ast-io.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="luac-1"><a class="header" href="#luac-1"><code>lua.c</code></a></h1>
<p>Provides functions for executing evaluation-passes on document trees.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-em-parserc"><a class="header" href="#lua-em-parserc"><code>lua-em-parser.c</code></a></h1>
<p>Provides interface between core Emblem parser and extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-em-parser.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-eventsc"><a class="header" href="#lua-eventsc"><code>lua-events.c</code></a></h1>
<p>Implements callers for typesetting events for extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-events.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="lua-pointersc"><a class="header" href="#lua-pointersc"><code>lua-pointers.c</code></a></h1>
<p>This module lacks a documentation header.</p>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/lua-pointers.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="stylec"><a class="header" href="#stylec"><code>style.c</code></a></h1>
<p>Implements function for loading stylesheets from extension-space.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/ext/style.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="logs-1"><a class="header" href="#logs-1"><code>logs/</code></a></h1>
<p>This directory holds code which is responsible for logging-output.
It also provides an interface between its logging functions and extension-space.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ext-logc"><a class="header" href="#ext-logc"><code>ext-log.c</code></a></h1>
<p>Implements the C-side interface between extension-space and logging functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/logs/ext-log.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="logsc"><a class="header" href="#logsc"><code>logs.c</code></a></h1>
<p>Implements logging functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/logs/logs.c">Source file</a></p>
<h2 id="log_x_call"><a class="header" href="#log_x_call"><code>LOG_X_CALL</code></a></h2>
<p>Construct a call to the logging function at verbosity <code>lvl</code>, where <code>v</code> is the start of the formatting.</p>
<ul>
<li><strong>Param</strong> <code>lvl</code>: Verbosity level of the call</li>
<li><strong>Param</strong> <code>v</code>: Name of the first format argument</li>
</ul>
<p><strong>Returns</strong>: A call to log_x with va_args handled</p>
<pre><code class="language-c">#define LOG_X_CALL(name, f)                                                                                            \
</code></pre>
<h2 id="log_debug-1"><a class="header" href="#log_debug-1"><code>log_debug</code></a></h2>
<p>Write a debug message to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: debug message format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_debug(const char* restrict format, ...) { LOG_X_CALL(debug, format); }
</code></pre>
<h2 id="log_err-1"><a class="header" href="#log_err-1"><code>log_err</code></a></h2>
<p>Write an error stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Error format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_err(const char* restrict format, ...) { LOG_X_CALL(err, format); }
</code></pre>
<h2 id="log_info-1"><a class="header" href="#log_info-1"><code>log_info</code></a></h2>
<p>Write information to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Information format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">void log_info(const char* restrict format, ...) { LOG_X_CALL(info, format); }
</code></pre>
<h2 id="log_warn-1"><a class="header" href="#log_warn-1"><code>log_warn</code></a></h2>
<p>Write a warning to stderr.</p>
<ul>
<li><strong>Param</strong> <code>format</code>: Warning format (printf)</li>
<li><strong>Param</strong> <code>...</code>: Possible printf arguments</li>
</ul>
<pre><code class="language-c">int log_warn(const char* restrict format, ...)
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parser-1"><a class="header" href="#parser-1"><code>parser/</code></a></h1>
<p>This directory is responsible for all parsing which occurs from within the core.
It contains the Emblem parser and lexer specifications as well as code for input sanitisation and handling syntactic sugar.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="parserc"><a class="header" href="#parserc"><code>parser.c</code></a></h1>
<p>Implements the parser at the top-level (entire-document).</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/parser.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="sanitise-wordc"><a class="header" href="#sanitise-wordc"><code>sanitise-word.c</code></a></h1>
<p>Implements the word-sanitiser function for the Emblem parser.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/sanitise-word.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="sugarc"><a class="header" href="#sugarc"><code>sugar.c</code></a></h1>
<p>Implements functions to construct syntactic sugar functions.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/parser/sugar.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="pp-1"><a class="header" href="#pp-1"><code>pp/</code></a></h1>
<p>Holds useful definitions for the preprocessor.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lambdac"><a class="header" href="#lambdac"><code>lambda.c</code></a></h1>
<p>Implementations of free functions as lambdas.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/pp/lambda.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="style-1"><a class="header" href="#style-1"><code>style/</code></a></h1>
<p>This module handles the resolution and usage of styling information.
Specifically, it is responsible for inputting, preprocessing, reading and applying style-sheets.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="cssc"><a class="header" href="#cssc"><code>css.c</code></a></h1>
<p>Manages resolution of styles and the handling of stylesheets.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/css.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="css-paramsc"><a class="header" href="#css-paramsc"><code>css-params.c</code></a></h1>
<p>Implements functions to handle CSS-environment parameters.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/css-params.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="preprocess-cssc"><a class="header" href="#preprocess-cssc"><code>preprocess-css.c</code></a></h1>
<p>Provides an implementation for a CSS preprocessor using SCSS/SASS.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/style/preprocess-css.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="typesetter-1"><a class="header" href="#typesetter-1"><code>typesetter/</code></a></h1>
<p>This module is responsible for handling the typesetter.
It governs both the typesetting loop and the internal typesetting engine.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="typesetterc"><a class="header" href="#typesetterc"><code>typesetter.c</code></a></h1>
<p>Implements the typesetting loop.</p>
<ul>
<li><strong>Author</strong>: Edward Jones</li>
<li><strong>Date</strong>: 2021-09-17</li>
</ul>
<p><a href="https://github.com/TheSignPainter98/emblem/blob/master/src/typesetter/typesetter.c">Source file</a></p>
<center><i>This module does not contain any documented interface items.</i></center><div style="break-before: page; page-break-before: always;"></div><h1 id="license-and-author"><a class="header" href="#license-and-author">License and Author</a></h1>
<p>This project is maintained by Ed Jones and is licensed under the GNU General Public License version 3.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="ace.js" type="text/javascript" charset="utf-8"></script>
        <script src="editor.js" type="text/javascript" charset="utf-8"></script>
        <script src="mode-rust.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-dawn.js" type="text/javascript" charset="utf-8"></script>
        <script src="theme-tomorrow_night.js" type="text/javascript" charset="utf-8"></script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript" src="theme/js/main.js"></script>
        <script type="text/javascript" src="theme/mdBook-pagetoc/sidebar.js"></script>
        <script type="text/javascript">
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>
    </body>
</html>
